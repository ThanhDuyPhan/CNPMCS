var EditTenantModal=function(n){app.modals.EditTenantModal=function(){var t,r=abp.services.app.tenant,i=null;this.init=function(r){function h(){e.is(":checked")?f.slideUp("fast"):f.slideDown("fast")}var u,f,e,o,s;t=r;u=t.getModal();i=u.find("form[name=TenantInformationsForm]");i.validate();u.find(".date-time-picker").datetimepicker({locale:abp.localization.currentLanguage.name,format:"L"});f=u.find("input[name=SubscriptionEndDateUtc]").parent("div");e=u.find("#CreateTenant_IsUnlimited");e.change(function(){h()});o=u.find("#EditionId");s=u.find("#EditTenant_IsInTrialPeriod");o.change(function(){var t=n("option:selected",this).attr("data-isfree")==="True",i=n("option:selected",this).val();t?s.closest("div").slideUp("fast"):s.closest("div").slideDown("fast");i<=0?u.find(".subscription-component").slideUp("fast"):u.find(".subscription-component").slideDown("fast")});o.trigger("change");h()};this.save=function(){if(i.valid()){var u=i.serializeFormToObject();u.SubscriptionEndDateUtc=n("#CreateTenant_IsUnlimited").is(":visible")&&!n("#CreateTenant_IsUnlimited").is(":checked")?n(".date-time-picker").data("DateTimePicker").date().format("YYYY-MM-DDTHH:mm:ss")+"Z":null;t.setBusy(!0);r.updateTenant(u).done(function(){abp.notify.info(app.localize("SavedSuccessfully"));t.close();abp.event.trigger("app.editTenantModalSaved")}).always(function(){t.setBusy(!1)})}}}}(jQuery);