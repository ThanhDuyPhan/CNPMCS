var mApp=function(){var n=function(n){var t=n.data("skin")?"m-tooltip--skin-"+n.data("skin"):"",i=n.data("width")=="auto"?"m-tooltop--auto-width":"",r=n.data("trigger")?n.data("trigger"):"hover";n.tooltip({trigger:r,template:'<div class="m-tooltip '+t+" "+i+' tooltip" role="tooltip">                <div class="arrow"><\/div>                <div class="tooltip-inner"><\/div>            <\/div>'})},t=function(){$('[data-toggle="m-tooltip"]').each(function(){n($(this))})},i=function(n){var t=n.data("skin")?"m-popover--skin-"+n.data("skin"):"",i=n.data("trigger")?n.data("trigger"):"hover";n.popover({trigger:i,template:'            <div class="m-popover '+t+' popover" role="tooltip">                <div class="arrow"><\/div>                <h3 class="popover-header"><\/h3>                <div class="popover-body"><\/div>            <\/div>'})},r=function(){$('[data-toggle="m-popover"]').each(function(){i($(this))})},o=function(){$(".custom-file-input").on("change",function(){var n=$(this).val();$(this).next(".custom-file-label").addClass("selected").html(n)})},u=function(n,t){n.mPortlet(t)},f=function(){$('[data-portlet="true"]').each(function(){var n=$(this);n.data("portlet-initialized")!==!0&&(u(n,{}),n.data("portlet-initialized",!0))})},s=function(){$('[data-scrollable="true"]').each(function(){var t,i,n=$(this);mUtil.isInResponsiveRange("tablet-and-mobile")?(t=n.data("mobile-max-height")?n.data("mobile-max-height"):n.data("max-height"),i=n.data("mobile-height")?n.data("mobile-height"):n.data("height")):(t=n.data("max-height"),i=n.data("max-height"));t&&n.css("max-height",t);i&&n.css("height",i);mApp.initScroller(n,{})})},h=function(){$("body").on("click","[data-close=alert]",function(){$(this).closest(".alert").hide()})},e=function(){$("[data-tab-target]").each(function(){$(this).data("tabs-initialized")!=!0&&($(this).click(function(n){n.preventDefault();var t=$(this),i=t.closest('[data-tabs="true"]'),r=$(i.data("tabs-contents")),u=$(t.data("tab-target"));i.find(".m-tabs__item.m-tabs__item--active").removeClass("m-tabs__item--active");t.addClass("m-tabs__item--active");r.find(".m-tabs-content__item.m-tabs-content__item--active").removeClass("m-tabs-content__item--active");u.addClass("m-tabs-content__item--active")}),$(this).data("tabs-initialized",!0))})},c=function(){},l=function(){jQuery.event.special.touchstart={setup:function(n,t,i){typeof this=="function"&&(t.includes("noPreventDefault")?this.addEventListener("touchstart",i,{passive:!1}):this.addEventListener("touchstart",i,{passive:!0}))}};jQuery.event.special.touchmove={setup:function(n,t,i){typeof this=="function"&&(t.includes("noPreventDefault")?this.addEventListener("touchmove",i,{passive:!1}):this.addEventListener("touchmove",i,{passive:!0}))}};jQuery.event.special.wheel={setup:function(n,t,i){typeof this=="function"&&(t.includes("noPreventDefault")?this.addEventListener("wheel",i,{passive:!1}):this.addEventListener("wheel",i,{passive:!0}))}}};return{init:function(){mApp.initComponents()},initComponents:function(){l();s();t();r();h();f();o();c();e()},initCustomTabs:function(){e()},initTooltips:function(){t()},initTooltip:function(t){n(t)},initPopovers:function(){r()},initPopover:function(n){i(n)},initPortlet:function(n,t){u(n,t)},initPortlets:function(){f()},scrollTo:function(n,t){el=$(n);var i=el&&el.length>0?el.offset().top:0;i=i+(t?t:0);jQuery("html,body").animate({scrollTop:i},"slow")},scrollToViewport:function(n){var t=$(n).offset().top,i=n.height(),r=mUtil.getViewPort().height,u=t-(r/2-i/2);jQuery("html,body").animate({scrollTop:u},"slow")},scrollTop:function(){mApp.scrollTo()},initScroller:function(n,t,i){mUtil.isMobileDevice()?n.css("overflow","auto"):(i!==!0&&mApp.destroyScroller(n),n.mCustomScrollbar({scrollInertia:0,autoDraggerLength:!0,autoHideScrollbar:!0,autoExpandScrollbar:!1,alwaysShowScrollbar:0,axis:n.data("axis")?n.data("axis"):"y",mouseWheel:{scrollAmount:120,preventDefault:!0},setHeight:t.height?t.height:"",theme:"minimal-dark"}))},destroyScroller:function(n){n.mCustomScrollbar("destroy");n.removeClass("mCS_destroyed")},alert:function(n){n=$.extend(!0,{container:"",place:"append",type:"success",message:"",close:!0,reset:!0,focus:!0,closeInSeconds:0,icon:""},n);var i=mUtil.getUniqueID("App_alert"),t='<div id="'+i+'" class="custom-alerts alert alert-'+n.type+' fade in">'+(n.close?'<button type="button" class="close" data-dismiss="alert" aria-hidden="true"><\/button>':"")+(n.icon!==""?'<i class="fa-lg fa fa-'+n.icon+'"><\/i>  ':"")+n.message+"<\/div>";return n.reset&&$(".custom-alerts").remove(),n.container?n.place=="append"?$(n.container).append(t):$(n.container).prepend(t):$(".page-fixed-main-content").size()===1?$(".page-fixed-main-content").prepend(t):($("body").hasClass("page-container-bg-solid")||$("body").hasClass("page-content-white"))&&$(".page-head").size()===0?$(".page-title").after(t):$(".page-bar").size()>0?$(".page-bar").after(t):$(".page-breadcrumb, .breadcrumbs").after(t),n.focus&&mApp.scrollTo($("#"+i)),n.closeInSeconds>0&&setTimeout(function(){$("#"+i).remove()},n.closeInSeconds*1e3),i},block:function(n,t){var i=$(n),u,f,r,o,e;t=$.extend(!0,{opacity:.03,overlayColor:"#000000",state:"brand",type:"loader",size:"lg",centerX:!0,centerY:!0,message:"",shadow:!0,width:"auto"},t);t.type=="spinner"?(u=t.skin?"m-spinner--skin-"+t.skin:"",f=t.state?"m-spinner--"+t.state:"",r='<div class="m-spinner '+u+" "+f+'"><\/div'):(u=t.skin?"m-loader--skin-"+t.skin:"",f=t.state?"m-loader--"+t.state:"",size=t.size?"m-loader--"+t.size:"",r='<div class="m-loader '+u+" "+f+" "+size+'"><\/div');t.message&&t.message.length>0?(o="m-blockui "+(t.shadow===!1?"m-blockui-no-shadow":""),html='<div class="'+o+'"><span>'+t.message+"<\/span><span>"+r+"<\/span><\/div>",t.width=mUtil.realWidth(html)+10,n=="body"&&(html='<div class="'+o+'" style="margin-left:-'+t.width/2+'px;"><span>'+t.message+"<\/span><span>"+r+"<\/span><\/div>")):html=r;e={message:html,centerY:t.centerY,centerX:t.centerX,css:{top:"30%",left:"50%",border:"0",padding:"0",backgroundColor:"none",width:t.width},overlayCSS:{backgroundColor:t.overlayColor,opacity:t.opacity,cursor:"wait",zIndex:"10"},onUnblock:function(){i&&(i.css("position",""),i.css("zoom",""))}};n=="body"?(e.css.top="50%",$.blockUI(e)):(i=$(n),i.block(e))},unblock:function(n){n&&n!="body"?$(n).unblock():$.unblockUI()},blockPage:function(n){return mApp.block("body",n)},unblockPage:function(){return mApp.unblock("body")},progress:function(n,t){var r=t&&t.skin?t.skin:"light",u=t&&t.alignment?t.alignment:"right",f=t&&t.size?"m-spinner--"+t.size:"",i="m-loader m-loader--"+r+" m-loader--"+u+" m-loader--"+f;mApp.unprogress(n);$(n).addClass(i);$(n).data("progress-classes",i)},unprogress:function(n){$(n).removeClass($(n).data("progress-classes"))}}}(),mUtil,mLayout;$(document).ready(function(){mApp.init()});mUtil=function(){var n=[],t={sm:544,md:768,lg:992,xl:1200},i={brand:"#716aca",metal:"#c4c5d6",light:"#ffffff",accent:"#00c5dc",primary:"#5867dd",success:"#34bfa3",info:"#36a3f7",warning:"#ffb822",danger:"#f4516c"},r=function(){var i=function(){for(var i,t=0;t<n.length;t++)i=n[t],i.call()},t=!1,r=250;window.addEventListener("resize",function(){clearTimeout(t);t=setTimeout(function(){i()},r)})};return{init:function(n){n&&n.breakpoints&&(t=n.breakpoints);n&&n.colors&&(i=n.colors);r()},addResizeHandler:function(t){n.push(t)},runResizeHandlers:function(){_runResizeHandlers()},getURLParam:function(n){for(var u=window.location.search.substring(1),i,r=u.split("&"),t=0;t<r.length;t++)if(i=r[t].split("="),i[0]==n)return unescape(i[1]);return null},isMobileDevice:function(){return this.getViewPort().width<this.getBreakpoint("lg")?!0:!1},isDesktopDevice:function(){return mUtil.isMobileDevice()?!1:!0},getViewPort:function(){var n=window,t="inner";return"innerWidth"in window||(t="client",n=document.documentElement||document.body),{width:n[t+"Width"],height:n[t+"Height"]}},isInResponsiveRange:function(n){var t=this.getViewPort().width;return n=="general"?!0:n=="desktop"&&t>=this.getBreakpoint("lg")+1||n=="tablet"&&t>=this.getBreakpoint("md")+1&&t<this.getBreakpoint("lg")||n=="mobile"&&t<=this.getBreakpoint("md")||n=="desktop-and-tablet"&&t>=this.getBreakpoint("md")+1||n=="tablet-and-mobile"&&t<=this.getBreakpoint("lg")||n=="minimal-desktop-and-below"&&t<=this.getBreakpoint("xl")?!0:!1},getUniqueID:function(n){return n+Math.floor(Math.random()*(new Date).getTime())},getBreakpoint:function(n){if($.inArray(n,t))return t[n]},isset:function(n,t){var i;if(t=t||"",t.indexOf("[")!==-1)throw new Error("Unsupported object path notation.");t=t.split(".");do{if(n===undefined||(i=t.shift(),!n.hasOwnProperty(i)))return!1;n=n[i]}while(t.length);return!0},getHighestZindex:function(n){for(var t=$(n),i,r;t.length&&t[0]!==document;){if(i=t.css("position"),(i==="absolute"||i==="relative"||i==="fixed")&&(r=parseInt(t.css("zIndex"),10),!isNaN(r)&&r!==0))return r;t=t.parent()}},hasClasses:function(n,t){for(var r=t.split(" "),i=0;i<r.length;i++)if(n.hasClass(r[i])==!1)return!1;return!0},realWidth:function(n){var t=$(n).clone(),i;return t.css("visibility","hidden"),t.css("overflow","hidden"),t.css("height","0"),$("body").append(t),i=t.outerWidth(),t.remove(),i},hasFixedPositionedParent:function(n){var t=!1;return n.parents().each(function(){if($(this).css("position")=="fixed"){t=!0;return}}),t},sleep:function(n){for(var i=(new Date).getTime(),t=0;t<1e7;t++)if((new Date).getTime()-i>n)break},getRandomInt:function(n,t){return Math.floor(Math.random()*(t-n+1))+n},getColor:function(n){return i[n]},isAngularVersion:function(){return window.Zone!==undefined?!0:!1}}}();$(document).ready(function(){mUtil.init()});jQuery.fn.extend({animateClass:function(n,t){var i="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";jQuery(this).addClass("animated "+n).one(i,function(){jQuery(this).removeClass("animated "+n)});if(t)jQuery(this).one(i,t)},animateDelay:function(n){for(var i=["webkit-","moz-","ms-","o-",""],t=0;t<i.length;t++)jQuery(this).css(i[t]+"animation-delay",n)},animateDuration:function(n){for(var i=["webkit-","moz-","ms-","o-",""],t=0;t<i.length;t++)jQuery(this).css(i[t]+"animation-duration",n)}}),function(n){if(typeof mUtil=="undefined")throw new Error("mUtil is required and must be included before mDatatable.");n.fn.mDatatable=function(t){var i,r,u;if(!n(this).hasClass("m-datatable--loaded")){if(n(this).length===0)throw new Error("No mDatatable element exist.");if(n(this).attr("id")==="")throw new Error("ID is required.");return i=this,i.debug=!1,r={offset:110,stateId:"m-meta",init:function(t){r.setupBaseDOM.call();r.setupDOM(i.table);u.setDataSourceQuery(u.getOption("data.source.read.params.query"));n(i).on("m-datatable--on-layout-updated",r.afterRender);i.debug&&r.stateRemove(r.stateId);(t.data.type==="remote"||t.data.type==="local")&&((t.data.saveState===!1||t.data.saveState.cookie===!1&&t.data.saveState.webstorage===!1)&&r.stateRemove(r.stateId),t.data.type==="local"&&typeof t.data.source=="object"&&(t.data.source===null&&r.extractTable(),i.dataSet=i.originalDataSet=r.dataMapCallback(t.data.source)),r.dataRender());r.setHeadTitle.call();r.setHeadTitle.call(this,i.tableFoot);t.data.type===null&&(r.setupCellField.call(),r.setupTemplateCell.call(),r.setupSystemColumn.call());typeof t.layout.header!="undefined"&&t.layout.header===!1&&n(i.table).find("thead").remove();typeof t.layout.footer!="undefined"&&t.layout.footer===!1&&n(i.table).find("tfoot").remove();(t.data.type===null||t.data.type==="local")&&r.layoutUpdate();n(window).resize(r.fullRender);n(i).height("");n(u.getOption("search.input")).on("keyup",function(){u.search(n(this).val().toLowerCase())});return i},extractTable:function(){var u=[],e=n(i).find("tr:first-child th").get().map(function(i){var r=n(i).data("field"),f,e;typeof r=="undefined"&&(r=n(i).text());f={field:r,title:r};for(e in t.columns)t.columns[e].field===r&&(f=n.extend(!0,{},t.columns[e],f));return u.push(f),r}),f,r;t.columns=u;f=n(i).find("tr").get().map(function(t){return n(t).find("td").get().map(function(t){return n(t).html()})});r=[];n.each(f,function(t,i){if(i.length!==0){var u={};n.each(i,function(n,t){u[e[n]]=t});r.push(u)}});t.data.source=r},layoutUpdate:function(){r.setupSubDatatable.call();r.setupSystemColumn.call();r.columnHide.call();r.sorting.call();r.setupHover.call();typeof t.detail=="undefined"&&r.getDepth()===1&&r.lockTable.call();n(i).trigger("m-datatable--on-layout-updated",{table:n(i.table).attr("id")})},lockTable:function(){var u={lockEnabled:!1,init:function(){(u.lockEnabled=n.grep(t.columns,function(n){return typeof n.locked!="undefined"&&n.locked!==!1}),u.lockEnabled.length!==0)&&(r.isLocked()||(i.oriTable=n(i.table).clone()),u.enable())},enable:function(){var t=function(t){var f=u.lockEnabledColumns();if(f.left.length!==0||f.right.length!==0){if(n(t).find(".m-datatable__lock").length>0){r.log("Locked container already exist in: ",t);return}if(n(t).find(".m-datatable__row").length===0){r.log("No row exist in: ",t);return}var e=n("<div/>").addClass("m-datatable__lock m-datatable__lock--left"),o=n("<div/>").addClass("m-datatable__lock m-datatable__lock--scroll"),s=n("<div/>").addClass("m-datatable__lock m-datatable__lock--right");n(t).find(".m-datatable__row").each(function(){var t=n("<tr/>").addClass("m-datatable__row").appendTo(e),i=n("<tr/>").addClass("m-datatable__row").appendTo(o),r=n("<tr/>").addClass("m-datatable__row").appendTo(s);n(this).find(".m-datatable__cell").each(function(){var u=n(this).data("locked");typeof u!="undefined"?((typeof u.left!="undefined"||u===!0)&&n(this).appendTo(t),typeof u.right!="undefined"&&n(this).appendTo(r)):n(this).appendTo(i)});n(this).remove()});f.left.length>0&&(n(i.wrap).addClass("m-datatable--lock"),n(e).appendTo(t));(f.left.length>0||f.right.length>0)&&n(o).appendTo(t);f.right.length>0&&(n(i.wrap).addClass("m-datatable--lock"),n(s).appendTo(t))}};n(i.table).find("thead,tbody,tfoot").each(function(){var i=this;n(this).find(".m-datatable__lock").length===0&&n(this).ready(function(){t(i)})})},lockEnabledColumns:function(){var r=n(window).width(),u=t.columns,i={left:[],right:[]};return n.each(u,function(n,t){typeof t.locked!="undefined"&&(typeof t.locked.left!="undefined"&&mUtil.getBreakpoint(t.locked.left)<=r&&i.left.push(t.locked.left),typeof t.locked.right!="undefined"&&mUtil.getBreakpoint(t.locked.right)<=r&&i.right.push(t.locked.right))}),i}};return u.init(),u},fullRender:function(){if(r.spinnerCallback(!0),n(i.wrap).removeClass("m-datatable--loaded"),r.isLocked()){var t=n(i.oriTable).children();t.length>0&&(n(i.wrap).removeClass("m-datatable--lock"),n(i.table).empty().html(t),i.oriTable=null,r.setupCellField.call(),u.redraw());r.updateTableComponents.call()}r.insertData()},afterRender:function(t,f){f.table===n(i.table).attr("id")&&(r.isLocked()||u.redraw(),n(i).ready(function(){n(i.tableBody).find(".m-datatable__row:even").addClass("m-datatable__row--even");r.isLocked()&&u.redraw();n(i.tableBody).css("visibility","");n(i.wrap).addClass("m-datatable--loaded");r.scrollbar.call();r.spinnerCallback(!1)}))},setupHover:function(){n(i.tableBody).find(".m-datatable__cell").off("mouseenter","mouseleave").on("mouseenter",function(){var t=n(this).closest(".m-datatable__row").addClass("m-datatable__row--hover"),i=n(t).index()+1;n(t).closest(".m-datatable__lock").parent().find(".m-datatable__row:nth-child("+i+")").addClass("m-datatable__row--hover")}).on("mouseleave",function(){var t=n(this).closest(".m-datatable__row").removeClass("m-datatable__row--hover"),i=n(t).index()+1;n(t).closest(".m-datatable__lock").parent().find(".m-datatable__row:nth-child("+i+")").removeClass("m-datatable__row--hover")})},adjustLockContainer:function(){var f;if(!r.isLocked())return 0;var e=n(i.tableHead).width(),t=n(i.tableHead).find(".m-datatable__lock--left").width(),u=n(i.tableHead).find(".m-datatable__lock--right").width();return typeof t=="undefined"&&(t=0),typeof u=="undefined"&&(u=0),f=Math.floor(e-t-u),n(i.table).find(".m-datatable__lock--scroll").css("width",f),f},dragResize:function(){var r=!1,t=undefined,u,f;n(i.tableHead).find(".m-datatable__cell").mousedown(function(i){t=n(this);r=!0;u=i.pageX;f=n(this).width();n(t).addClass("m-datatable__cell--resizing")}).mousemove(function(e){var h;if(r){var c=n(t).index(),o=n(i.tableBody),s=n(t).closest(".m-datatable__lock");s&&(h=n(s).index(),o=n(i.tableBody).find(".m-datatable__lock").eq(h));n(o).find(".m-datatable__row").each(function(t,i){n(i).find(".m-datatable__cell").eq(c).width(f+(e.pageX-u)).children().width(f+(e.pageX-u))});n(t).children().width(f+(e.pageX-u))}}).mouseup(function(){n(t).removeClass("m-datatable__cell--resizing");r=!1});n(document).mouseup(function(){n(t).removeClass("m-datatable__cell--resizing");r=!1})},initHeight:function(){if(t.layout.height&&t.layout.scroll){var u=n(i.tableHead).find(".m-datatable__row").height(),f=n(i.tableFoot).find(".m-datatable__row").height(),r=t.layout.height;typeof u!="undefined"&&(r-=u);typeof f!="undefined"&&(r-=f);n(i.tableBody).css("max-height",r)}},setupBaseDOM:function(){i.old=n(i).clone();n(i).prop("tagName")==="TABLE"?(i.table=n(i).removeClass("m-datatable").addClass("m-datatable__table"),n(i.table).parents(".m-datatable").length===0&&(i.table.wrap(n("<div/>").addClass("m-datatable").addClass("m-datatable--"+t.layout.theme)),i.wrap=n(i.table).parent())):(i.wrap=n(i).addClass("m-datatable").addClass("m-datatable--"+t.layout.theme),i.table=n("<table/>").addClass("m-datatable__table").appendTo(i));typeof t.layout.class!="undefined"&&n(i.wrap).addClass(t.layout.class);n(i.table).removeClass("m-datatable--destroyed").css("display","block").attr("id",mUtil.getUniqueID("m-datatable--"));u.getOption("layout.height")&&n(i.table).css("max-height",u.getOption("layout.height"));t.data.type===null&&n(i.table).css("width","").css("display","");i.tableHead=n(i.table).find("thead");n(i.tableHead).length===0&&(i.tableHead=n("<thead/>").prependTo(i.table));i.tableBody=n(i.table).find("tbody");n(i.tableBody).length===0&&(i.tableBody=n("<tbody/>").appendTo(i.table));typeof t.layout.footer!="undefined"&&t.layout.footer&&(i.tableFoot=n(i.table).find("tfoot"),n(i.tableFoot).length===0&&(i.tableFoot=n("<tfoot/>").appendTo(i.table)))},setupCellField:function(r){typeof r=="undefined"&&(r=n(i.table).children());var u=t.columns;n.each(r,function(t,i){n(i).find(".m-datatable__row").each(function(t,i){n(i).find(".m-datatable__cell").each(function(t,i){typeof u[t]!="undefined"&&n(i).data(u[t])})})})},setupTemplateCell:function(f){typeof f=="undefined"&&(f=i.tableBody);var e=t.columns;n(f).find(".m-datatable__row").each(function(t,f){var o=n(f).data("obj")||{},s=u.getOption("rows.callback");typeof s=="function"&&s(f,o,t);o.getIndex=function(){return t};o.getDatatable=function(){return i};typeof o=="undefined"&&(o={},n(f).find(".m-datatable__cell").each(function(t,i){var r=n.grep(e,function(t){return n(i).data("field")===t.field})[0];typeof r!="undefined"&&(o[r.field]=n(i).text())}));n(f).find(".m-datatable__cell").each(function(t,i){var u=n.grep(e,function(t){return n(i).data("field")===t.field})[0],f,s;typeof u!="undefined"&&typeof u.template!="undefined"&&(f="",typeof u.template=="string"&&(f=r.dataPlaceholder(u.template,o)),typeof u.template=="function"&&(f=u.template(o)),s=n("<span/>").append(f),n(i).html(s),typeof u.overflow!="undefined"&&n(s).css("overflow",u.overflow))})})},setupSystemColumn:function(){var r,f;(i.dataSet=i.dataSet||[],i.dataSet.length!==0)&&(r=t.columns,n(i.tableBody).find(".m-datatable__row").each(function(t,i){n(i).find(".m-datatable__cell").each(function(t,i){var f=n.grep(r,function(t){return n(i).data("field")===t.field})[0],e,o;if(typeof f!="undefined"){if(e=n(i).text(),typeof f.selector!="undefined"&&f.selector!==!1){if(n(i).find('.m-checkbox [type="checkbox"]').length>0)return;n(i).addClass("m-datatable__cell--check");o=n("<label/>").addClass("m-checkbox m-checkbox--single").append(n("<input/>").attr("type","checkbox").attr("value",e).on("click",function(){n(this).is(":checked")?u.setActive(this):u.setInactive(this)})).append(n("<span/>"));typeof f.selector.class!="undefined"&&n(o).addClass(f.selector.class);n(i).children().html(o)}if(typeof f.subtable!="undefined"&&f.subtable){if(n(i).find(".m-datatable__toggle-subtable").length>0)return;n(i).children().html(n("<a/>").addClass("m-datatable__toggle-subtable").attr("href","#").attr("data-value",e).append(n("<i/>").addClass(u.getOption("layout.icons.rowDetail.collapse"))))}}})}),f=function(t){var i=n.grep(r,function(n){return typeof n.selector!="undefined"&&n.selector!==!1})[0],f,e;if(typeof i!="undefined"&&typeof i.selector!="undefined"&&i.selector!==!1){if(f=n(t).find('[data-field="'+i.field+'"]'),n(f).find('.m-checkbox [type="checkbox"]').length>0)return;n(f).addClass("m-datatable__cell--check");e=n("<label/>").addClass("m-checkbox m-checkbox--single m-checkbox--all").append(n("<input/>").attr("type","checkbox").on("click",function(){n(this).is(":checked")?u.setActiveAll(!0):u.setActiveAll(!1)})).append(n("<span/>"));typeof i.selector.class!="undefined"&&n(e).addClass(i.selector.class);n(f).children().html(e)}},typeof t.layout.header!="undefined"&&t.layout.header===!0&&f(n(i.tableHead).find(".m-datatable__row").first()),typeof t.layout.footer!="undefined"&&t.layout.footer===!0&&f(n(i.tableFoot).find(".m-datatable__row").first()))},adjustCellsWidth:function(){var u=n(i.tableHead).width(),f=r.getOneRow(i.tableHead,1).length,t;f>0&&(u=u-20*f,t=Math.floor(u/f),t<=r.offset&&(t=r.offset),n(i.table).find(".m-datatable__row").find(".m-datatable__cell").each(function(i,r){var u=t,f=n(r).data("width");typeof f!="undefined"&&(u=f);n(r).children().css("width",u)}))},adjustCellsHeight:function(){n(i.table).find(".m-datatable__row");n.each(n(i.table).children(),function(t,i){for(var f,e,u=1;u<=r.getTotalRows(i);u++)f=r.getOneRow(i,u,!1),n(f).length>0&&(e=Math.max.apply(null,n(f).map(function(){return n(this).height()}).get()),n(f).css("height",Math.ceil(e)))})},setupDOM:function(t){n(t).find("> thead").addClass("m-datatable__head");n(t).find("> tbody").addClass("m-datatable__body");n(t).find("> tfoot").addClass("m-datatable__foot");n(t).find("tr").addClass("m-datatable__row");n(t).find("tr > th, tr > td").addClass("m-datatable__cell");n(t).find("tr > th, tr > td").each(function(t,i){n(i).find("span").length===0&&n(i).wrapInner(n("<span/>").width(r.offset))})},scrollbar:function(){var f={tableLocked:null,mcsOptions:{scrollInertia:0,autoDraggerLength:!0,autoHideScrollbar:!0,autoExpandScrollbar:!1,alwaysShowScrollbar:0,mouseWheel:{scrollAmount:120,preventDefault:!1},advanced:{updateOnContentResize:!0,autoExpandHorizontalScroll:!0},theme:"minimal-dark"},init:function(){var u=mUtil.getViewPort().width,r;t.layout.scroll?(n(i.wrap).addClass("m-datatable--scroll"),r=n(i.tableBody).find(".m-datatable__lock--scroll"),n(r).length>0?(f.scrollHead=n(i.tableHead).find("> .m-datatable__lock--scroll > .m-datatable__row"),f.scrollFoot=n(i.tableFoot).find("> .m-datatable__lock--scroll > .m-datatable__row"),f.tableLocked=n(i.tableBody).find(".m-datatable__lock:not(.m-datatable__lock--scroll)"),u>mUtil.getBreakpoint("lg")?f.mCustomScrollbar(r):f.defaultScrollbar(r)):(f.scrollHead=n(i.tableHead).find("> .m-datatable__row"),f.scrollFoot=n(i.tableFoot).find("> .m-datatable__row"),u>mUtil.getBreakpoint("lg")?f.mCustomScrollbar(i.tableBody):f.defaultScrollbar(i.tableBody))):n(i.table).css("height","auto").css("overflow-x","auto")},defaultScrollbar:function(t){n(t).css("overflow","auto").css("max-height",u.getOption("layout.height")).on("scroll",f.onScrolling)},onScrolling:function(){var t=n(this).scrollLeft(),i=n(this).scrollTop();n(f.scrollHead).css("left",-t);n(f.scrollFoot).css("left",-t);n(f.tableLocked).each(function(t,r){n(r).css("top",-i)})},mCustomScrollbar:function(t){var s=u.getOption("layout.height"),e="xy",o;s===null&&(e="x");o=n.extend({},f.mcsOptions,{axis:e,setHeight:n(i.tableBody).height(),callbacks:{whileScrolling:function(){var t=this.mcs;n(f.scrollHead).css("left",t.left);n(f.scrollFoot).css("left",t.left);n(f.tableLocked).each(function(i,r){n(r).css("top",t.top)})}}});u.getOption("layout.smoothScroll.scrollbarShown")===!0&&n(t).attr("data-scrollbar-shown","true");r.mCustomScrollbar(t,o);n(t).mCustomScrollbar("scrollTo","top")}};return f.init(),f},mCustomScrollbar:function(t,r){n(i.tableBody).css("overflow","");n(t).find(".mCustomScrollbar").length===0&&(n(i.tableBody).hasClass("mCustomScrollbar")&&n(i.tableBody).mCustomScrollbar("destroy"),n(t).mCustomScrollbar(r))},setHeadTitle:function(u){typeof u=="undefined"&&(u=i.tableHead);var e=t.columns,f=n(u).find(".m-datatable__row"),o=n(u).find(".m-datatable__cell");n(f).length===0&&(f=n("<tr/>").appendTo(u));n.each(e,function(t,r){var u=n(o).eq(t),e;n(u).length===0&&(u=n("<th/>").appendTo(f));typeof r.title!="undefined"&&n(u).html(r.title).attr("data-field",r.field).data(r);typeof r.textAlign!="undefined"&&(e=typeof i.textAlign[r.textAlign]!="undefined"?i.textAlign[r.textAlign]:"",n(u).addClass(e))});r.setupDOM(u)},dataRender:function(f){n(i.table).siblings(".m-datatable__pager").removeClass("m-datatable--paging-loaded");var o=function(){var f,e,o;return i.dataSet=i.dataSet||[],r.localDataUpdate(),f=u.getDataSourceParam("pagination"),f.perpage===0&&(f.perpage=t.data.pageSize||10),f.total=i.dataSet.length,e=Math.max(f.perpage*(f.page-1),0),o=Math.min(e+f.perpage,f.total),i.dataSet=n(i.dataSet).slice(e,o),f},e=function(u){n(i.wrap).removeClass("m-datatable--error");t.pagination?t.data.serverPaging&&t.data.type!=="local"?r.paging(r.getObject("meta",u||null)):r.paging(o(),function(t,u){n(t.pager).hasClass("m-datatable--paging-loaded")||(n(t.pager).remove(),t.init(u));n(t.pager).off().on("m-datatable--on-goto-page",function(){n(t.pager).remove();t.init(u)});var f=Math.max(u.perpage*(u.page-1),0),e=Math.min(f+u.perpage,u.total);r.localDataUpdate();i.dataSet=n(i.dataSet).slice(f,e);r.insertData()}):r.localDataUpdate();r.insertData()};if(t.data.type==="local"||typeof t.data.source.read=="undefined"&&i.dataSet!==null||t.data.serverSorting===!1&&f==="sort"){e();return}r.getData().done(e)},insertData:function(){i.dataSet=i.dataSet||[];var e=u.getDataSourceParam(),f=n("<tbody/>").addClass("m-datatable__body").css("visibility","hidden");n.each(i.dataSet,function(r,u){for(var o,c,v,a=n("<tr/>").attr("data-row",r).data("obj",u),h=0,s=[],y=t.columns.length,l=0;l<y;l+=1)o=t.columns[l],c=[],e.sort.field===o.field&&c.push("m-datatable__cell--sorted"),typeof o.textAlign!="undefined"&&(v=typeof i.textAlign[o.textAlign]!="undefined"?i.textAlign[o.textAlign]:"",c.push(v)),s[h++]='<td data-field="'+o.field+'"',s[h++]=' class="'+c.join(" ")+'"',s[h++]=">",s[h++]=u[o.field],s[h++]="<\/td>";n(a).append(s.join(""));n(f).append(a)});i.dataSet.length===0&&(n("<span/>").addClass("m-datatable--error").width("100%").html(u.getOption("translate.records.noRecords")).appendTo(f),n(i.wrap).addClass("m-datatable--error"));n(i.tableBody).replaceWith(f);i.tableBody=f;r.setupDOM(i.table);r.setupCellField([i.tableBody]);r.setupTemplateCell(i.tableBody);r.layoutUpdate()},updateTableComponents:function(){i.tableHead=n(i.table).children("thead");i.tableBody=n(i.table).children("tbody");i.tableFoot=n(i.table).children("tfoot")},getData:function(){var f={dataType:"json",method:"GET",data:{},timeout:3e4};return t.data.type==="local"&&(f.url=t.data.source),t.data.type==="remote"&&(f.url=u.getOption("data.source.read.url"),typeof f.url!="string"&&(f.url=u.getOption("data.source.read")),typeof f.url!="string"&&(f.url=u.getOption("data.source")),f.headers=u.getOption("data.source.read.headers"),f.data.datatable=u.getDataSourceParam(),f.method=u.getOption("data.source.read.method")||"POST",u.getOption("data.serverPaging")||delete f.data.datatable.pagination,u.getOption("data.serverSorting")||delete f.data.datatable.sort),n.ajax(f).done(function(t){i.dataSet=i.originalDataSet=r.dataMapCallback(t);n(i).trigger("m-datatable--on-ajax-done",[i.dataSet])}).fail(function(t){n(i).trigger("m-datatable--on-ajax-fail",[t]);n("<span/>").addClass("m-datatable--error").width("100%").html(u.getOption("translate.records.noRecords")).appendTo(i.tableBody);n(i).addClass("m-datatable--error")}).always(function(){})},paging:function(t,f){var e={meta:null,pager:null,paginateEvent:null,pagerLayout:{pagination:null,info:null},callback:null,init:function(t){(e.meta=t,e.meta.pages=Math.max(Math.ceil(e.meta.total/e.meta.perpage),1),e.meta.page>e.meta.pages&&(e.meta.page=e.meta.pages),e.paginateEvent=r.getTablePrefix(),e.pager=n(i.table).siblings(".m-datatable__pager"),n(e.pager).hasClass("m-datatable--paging-loaded"))||(n(e.pager).remove(),e.meta.pages!==0)&&(u.setDataSourceParam("pagination",e.meta),e.callback=e.serverCallback,typeof f=="function"&&(e.callback=f),e.addPaginateEvent(),e.populate(),e.meta.page=Math.max(e.meta.page||1,e.meta.page),n(i).trigger(e.paginateEvent,e.meta),e.pagingBreakpoint.call(),n(window).resize(e.pagingBreakpoint))},serverCallback:function(){r.dataRender()},populate:function(){var f=u.getOption("layout.icons.pagination"),r=u.getOption("translate.toolbar.pagination.items.default"),t,s,h,l;e.pager=n("<div/>").addClass("m-datatable__pager m-datatable--paging-loaded clearfix");t=n("<ul/>").addClass("m-datatable__pager-nav");e.pagerLayout.pagination=t;n("<li/>").append(n("<a/>").attr("title",r.first).addClass("m-datatable__pager-link m-datatable__pager-link--first").append(n("<i/>").addClass(f.first)).on("click",e.gotoMorePage).attr("data-page",1)).appendTo(t);n("<li/>").append(n("<a/>").attr("title",r.prev).addClass("m-datatable__pager-link m-datatable__pager-link--prev").append(n("<i/>").addClass(f.prev)).on("click",e.gotoMorePage)).appendTo(t);n("<li/>").append(n("<a/>").attr("title",r.more).addClass("m-datatable__pager-link m-datatable__pager-link--more-prev").html(n("<i/>").addClass(f.more)).on("click",e.gotoMorePage)).appendTo(t);n("<li/>").append(n("<input/>").attr("type","text").addClass("m-pager-input form-control").attr("title",r.input).on("keyup",function(){n(this).attr("data-page",Math.abs(n(this).val()))}).on("keypress",function(n){n.which===13&&e.gotoMorePage(n)})).appendTo(t);var c=u.getOption("toolbar.items.pagination.pages.desktop.pagesNumber"),o=Math.ceil(e.meta.page/c)*c,a=o-c;for(o>e.meta.pages&&(o=e.meta.pages),s=a;s<o;s++)h=s+1,n("<li/>").append(n("<a/>").addClass("m-datatable__pager-link m-datatable__pager-link-number").text(h).attr("data-page",h).attr("title",h).on("click",e.gotoPage)).appendTo(t);n("<li/>").append(n("<a/>").attr("title",r.more).addClass("m-datatable__pager-link m-datatable__pager-link--more-next").html(n("<i/>").addClass(f.more)).on("click",e.gotoMorePage)).appendTo(t);n("<li/>").append(n("<a/>").attr("title",r.next).addClass("m-datatable__pager-link m-datatable__pager-link--next").append(n("<i/>").addClass(f.next)).on("click",e.gotoMorePage)).appendTo(t);n("<li/>").append(n("<a/>").attr("title",r.last).addClass("m-datatable__pager-link m-datatable__pager-link--last").append(n("<i/>").addClass(f.last)).on("click",e.gotoMorePage).attr("data-page",e.meta.pages)).appendTo(t);u.getOption("toolbar.items.info")&&(e.pagerLayout.info=n("<div/>").addClass("m-datatable__pager-info").append(n("<span/>").addClass("m-datatable__pager-detail")));n.each(u.getOption("toolbar.layout"),function(t,i){n(e.pagerLayout[i]).appendTo(e.pager)});l=n("<select/>").addClass("selectpicker m-datatable__pager-size").attr("title",u.getOption("translate.toolbar.pagination.items.default.select")).attr("data-width","70px").val(e.meta.perpage).on("change",e.updatePerpage).prependTo(e.pagerLayout.info);n.each(u.getOption("toolbar.items.pagination.pageSizeSelect"),function(t,i){var r=i;i===-1&&(r="All");n("<option/>").attr("value",i).html(r).appendTo(l)});n(i).ready(function(){n(".selectpicker").selectpicker().siblings(".dropdown-toggle").attr("title",u.getOption("translate.toolbar.pagination.items.default.select"))});e.paste()},paste:function(){n.each(n.unique(u.getOption("toolbar.placement")),function(t,r){r==="bottom"&&n(e.pager).clone(!0).insertAfter(i.table);r==="top"&&n(e.pager).clone(!0).addClass("m-datatable__pager--top").insertBefore(i.table)})},gotoMorePage:function(t){if(t.preventDefault(),n(this).attr("disabled")==="disabled")return!1;var i=n(this).attr("data-page");return typeof i=="undefined"&&(i=n(t.target).attr("data-page")),e.openPage(parseInt(i)),!1},gotoPage:function(t){(t.preventDefault(),n(this).hasClass("m-datatable__pager-link--active"))||e.openPage(parseInt(n(this).data("page")))},openPage:function(t){e.meta.page=parseInt(t);n(i).trigger(e.paginateEvent,e.meta);e.callback(e,e.meta);n(e.pager).trigger("m-datatable--on-goto-page",e.meta)},updatePerpage:function(t){t.preventDefault();u.getOption("layout.height")===null&&n("html, body").animate({scrollTop:n(i).position().top});e.pager=n(i.table).siblings(".m-datatable__pager").removeClass("m-datatable--paging-loaded");t.originalEvent&&(e.meta.perpage=parseInt(n(this).val()));n(e.pager).find("select.m-datatable__pager-size").val(e.meta.perpage).attr("data-selected",e.meta.perpage);u.setDataSourceParam("pagination",e.meta);n(e.pager).trigger("m-datatable--on-update-perpage",e.meta);n(i).trigger(e.paginateEvent,e.meta);e.callback(e,e.meta);e.updateInfo.call()},addPaginateEvent:function(){n(i).off(e.paginateEvent).on(e.paginateEvent,function(t,f){r.spinnerCallback(!0);e.pager=n(i.table).siblings(".m-datatable__pager");var o=n(e.pager).find(".m-datatable__pager-nav");n(o).find(".m-datatable__pager-link--active").removeClass("m-datatable__pager-link--active");n(o).find('.m-datatable__pager-link-number[data-page="'+f.page+'"]').addClass("m-datatable__pager-link--active");n(o).find(".m-datatable__pager-link--prev").attr("data-page",Math.max(f.page-1,1));n(o).find(".m-datatable__pager-link--next").attr("data-page",Math.min(f.page+1,f.pages));n(e.pager).each(function(){n(this).find('.m-pager-input[type="text"]').prop("value",f.page)});n(e.pager).find(".m-datatable__pager-nav").show();f.pages<=1&&n(e.pager).find(".m-datatable__pager-nav").hide();u.setDataSourceParam("pagination",e.meta);n(e.pager).find("select.m-datatable__pager-size").val(f.perpage).attr("data-selected",f.perpage);n(i.table).find('.m-checkbox > [type="checkbox"]').prop("checked",!1);n(i.table).find(".m-datatable__row--active").removeClass("m-datatable__row--active");e.updateInfo.call();e.pagingBreakpoint.call()})},updateInfo:function(){var t=Math.max(e.meta.perpage*(e.meta.page-1)+1,1),i=Math.min(t+e.meta.perpage-1,e.meta.total);n(e.pager).find(".m-datatable__pager-info").find(".m-datatable__pager-detail").html(r.dataPlaceholder(u.getOption("translate.toolbar.pagination.items.info"),{start:t,end:e.meta.perpage===-1?e.meta.total:i,pageSize:e.meta.perpage===-1||e.meta.perpage>=e.meta.total?e.meta.total:e.meta.perpage,total:e.meta.total}))},pagingBreakpoint:function(){var t=n(i.table).siblings(".m-datatable__pager").find(".m-datatable__pager-nav"),f,r;n(t).length!==0&&(f=u.getCurrentPage(),r=n(t).find(".m-pager-input").closest("li"),n(t).find("li").show(),n.each(u.getOption("toolbar.items.pagination.pages"),function(i,o){if(mUtil.isInResponsiveRange(i)){switch(i){case"desktop":case"tablet":var s=Math.ceil(f/o.pagesNumber)*o.pagesNumber,h=s-o.pagesNumber;n(r).hide();e.meta=u.getDataSourceParam("pagination");e.paginationUpdate();break;case"mobile":n(r).show();n(t).find(".m-datatable__pager-link--more-prev").closest("li").hide();n(t).find(".m-datatable__pager-link--more-next").closest("li").hide();n(t).find(".m-datatable__pager-link-number").closest("li").hide()}return!1}}))},paginationUpdate:function(){var t=n(i.table).siblings(".m-datatable__pager").find(".m-datatable__pager-nav"),s=n(t).find(".m-datatable__pager-link--more-prev"),f=n(t).find(".m-datatable__pager-link--more-next"),h=n(t).find(".m-datatable__pager-link--first"),c=n(t).find(".m-datatable__pager-link--prev"),l=n(t).find(".m-datatable__pager-link--next"),a=n(t).find(".m-datatable__pager-link--last"),v=n(t).find(".m-datatable__pager-link-number"),y=Math.max(n(v).first().data("page")-1,1),o,r;n(s).each(function(t,i){n(i).attr("data-page",y)});y===1?n(s).parent().hide():n(s).parent().show();o=Math.min(n(v).last().data("page")+1,e.meta.pages);n(f).each(function(){n(f).attr("data-page",o).show()});o===e.meta.pages&&o===n(v).last().data("page")?n(f).parent().hide():n(f).parent().show();e.meta.page===1?(n(h).attr("disabled",!0).addClass("m-datatable__pager-link--disabled"),n(c).attr("disabled",!0).addClass("m-datatable__pager-link--disabled")):(n(h).removeAttr("disabled").removeClass("m-datatable__pager-link--disabled"),n(c).removeAttr("disabled").removeClass("m-datatable__pager-link--disabled"));e.meta.page===e.meta.pages?(n(l).attr("disabled",!0).addClass("m-datatable__pager-link--disabled"),n(a).attr("disabled",!0).addClass("m-datatable__pager-link--disabled")):(n(l).removeAttr("disabled").removeClass("m-datatable__pager-link--disabled"),n(a).removeAttr("disabled").removeClass("m-datatable__pager-link--disabled"));r=u.getOption("toolbar.items.pagination.navigation");r.first||n(h).remove();r.prev||n(c).remove();r.next||n(l).remove();r.last||n(a).remove()}};return e.init(t),e},columnHide:function(){var r=mUtil.getViewPort().width;n.each(t.columns,function(t,u){if(typeof u.responsive!="undefined"){var e=u.field,f=n.grep(n(i.table).find(".m-datatable__cell"),function(t){return e===n(t).data("field")});mUtil.getBreakpoint(u.responsive.hidden)>=r?n(f).hide():n(f).show();mUtil.getBreakpoint(u.responsive.visible)<=r?n(f).show():n(f).hide()}})},setupSubDatatable:function(){var f=u.getOption("detail.content"),e,o;if(typeof f=="function"){if(n(i.table).find(".m-datatable__detail").length>0)return;n(i.wrap).addClass("m-datatable--subtable");t.columns[0].subtable=!0;e=function(r){r.preventDefault();var e=n(this).closest(".m-datatable__row"),o=n(e).next().toggle(),h=n(this).closest("[data-field]:first-child").find(".m-datatable__toggle-subtable").data("value"),s=n(this).find("i").removeAttr("class");n(o).is(":hidden")?(n(s).addClass(u.getOption("layout.icons.rowDetail.collapse")),n(e).removeClass("m-datatable__row--detail-expanded"),n(i).trigger("m-datatable--on-collapse-detail",[e])):(n(s).addClass(u.getOption("layout.icons.rowDetail.expand")),n(e).addClass("m-datatable__row--detail-expanded"),n(i).trigger("m-datatable--on-expand-detail",[e]),n.map(i.dataSet,function(n){return h===n[t.columns[0].field]?(r.data=n,!0):!1}),r.detailCell=n(o).find(".m-datatable__detail"),n(r.detailCell).find(".m-datatable").length===0&&f(r))};o=t.columns;n(i.tableBody).find(".m-datatable__row").each(function(t,i){n(i).find(".m-datatable__cell").each(function(t,i){var r=n.grep(o,function(t){return n(i).data("field")===t.field})[0],f;if(typeof r!="undefined"&&(f=n(i).text(),typeof r.subtable!="undefined"&&r.subtable)){if(n(i).find(".m-datatable__toggle-subtable").length>0)return;n(i).children().html(n("<a/>").addClass("m-datatable__toggle-subtable").attr("href","#").attr("data-value",f).attr("title",u.getOption("detail.title")).on("click",e).append(n("<i/>").addClass(u.getOption("layout.icons.rowDetail.collapse"))))}})});n(i.tableBody).find(".m-datatable__row").each(function(){var t=n("<tr/>").addClass("m-datatable__row-detail").hide().append(n("<td/>").addClass("m-datatable__detail").attr("colspan",r.getTotalColumns()));n(this).after(t);n(this).hasClass("m-datatable__row--even")&&n(t).addClass("m-datatable__row-detail--even")})}},dataMapCallback:function(n){var t=n;return typeof u.getOption("data.source.read.map")=="function"?u.getOption("data.source.read.map")(n):(typeof n.data!="undefined"&&(t=n.data),t)},isSpinning:!1,spinnerCallback:function(n){if(n){if(!r.isSpinning){var t=u.getOption("layout.spinner");t.message===!0&&(t.message=u.getOption("translate.records.processing"));r.isSpinning=!0;typeof mApp!="undefined"&&mApp.block(i,t)}}else r.isSpinning=!1,typeof mApp!="undefined"&&mApp.unblock(i)},sortCallback:function(t,i,r){var u=r.type||"string",f=r.format||"",e=r.field;if(u==="date"&&typeof moment=="undefined")throw new Error("Moment.js is required.");return n(t).sort(function(n,t){var r=n[e],o=t[e],s;switch(u){case"date":return s=moment(r,f).diff(moment(o,f)),i==="asc"?s>0?1:s<0?-1:0:s<0?1:s>0?-1:0;case"number":return isNaN(parseFloat(r))&&r!=null&&(r=Number(r.replace(/[^0-9\.-]+/g,""))),isNaN(parseFloat(o))&&o!=null&&(o=Number(o.replace(/[^0-9\.-]+/g,""))),r=parseFloat(r),o=parseFloat(o),i==="asc"?r>o?1:r<o?-1:0:r<o?1:r>o?-1:0;case"string":default:return i==="asc"?r>o?1:r<o?-1:0:r<o?1:r>o?-1:0}})},log:function(n,t){typeof t=="undefined"&&(t="");i.debug&&console.log(n,t)},isLocked:function(){return n(i.wrap).hasClass("m-datatable--lock")||!1},replaceTableContent:function(t,r){typeof r=="undefined"&&(r=i.tableBody);n(r).hasClass("mCustomScrollbar")?n(r).find(".mCSB_container").html(t):n(r).html(t)},getExtraSpace:function(t){var i=parseInt(n(t).css("paddingRight"))+parseInt(n(t).css("paddingLeft")),r=parseInt(n(t).css("marginRight"))+parseInt(n(t).css("marginLeft")),u=Math.ceil(n(t).css("border-right-width").replace("px",""));return i+r+u},dataPlaceholder:function(t,i){var r=t;return n.each(i,function(n,t){r=r.replace("{{"+n+"}}",t)}),r},getTableId:function(t){return typeof t=="undefined"&&(t=""),n(i).attr("id")+t},getTablePrefix:function(n){return typeof n!="undefined"&&(n="-"+n),"m-datatable__"+r.getTableId()+"-"+r.getDepth()+n},getDepth:function(){var r=0,t=i.table;do t=n(t).parents(".m-datatable__table"),r++;while(n(t).length>0);return r},stateKeep:function(n,t){(n=r.getTablePrefix(n),u.getOption("data.saveState")!==!1)&&(u.getOption("data.saveState.webstorage")&&localStorage&&localStorage.setItem(n,JSON.stringify(t)),u.getOption("data.saveState.cookie")&&Cookies.set(n,JSON.stringify(t)))},stateGet:function(n){if(n=r.getTablePrefix(n),u.getOption("data.saveState")!==!1){var t=null;return t=u.getOption("data.saveState.webstorage")&&localStorage?localStorage.getItem(n):Cookies.get(n),typeof t!="undefined"&&t!==null?JSON.parse(t):void 0}},stateUpdate:function(t,i){var u=r.stateGet(t);(typeof u=="undefined"||u===null)&&(u={});r.stateKeep(t,n.extend({},u,i))},stateRemove:function(n){n=r.getTablePrefix(n);localStorage&&localStorage.removeItem(n);Cookies.remove(n)},getTotalColumns:function(t){return typeof t=="undefined"&&(t=i.tableBody),n(t).find(".m-datatable__row").first().find(".m-datatable__cell").length},getTotalRows:function(t){return typeof t=="undefined"&&(t=i.tableBody),n(t).find(".m-datatable__row").first().parent().find(".m-datatable__row").length},getOneRow:function(t,i,r){typeof r=="undefined"&&(r=!0);var u=n(t).find(".m-datatable__row:not(.m-datatable__row-detail):nth-child("+i+")");return r&&(u=u.find(".m-datatable__cell")),u},hasOverflowCells:function(t){var i=n(t).find("tr:first-child").find(".m-datatable__cell"),r=0;return i.length>0?(n(i).each(function(t,i){r+=Math.ceil(n(i).innerWidth())}),r>=n(t).outerWidth()):!1},hasOverflowX:function(t){var i=n(t).find("*"),r;return i.length>0?(r=Math.max.apply(null,n(i).map(function(){return n(this).outerWidth(!0)}).get()),r>n(t).width()):!1},hasOverflowY:function(t){var i=n(t).find(".m-datatable__row"),r=0;return i.length>0?(n(i).each(function(t,i){r+=Math.floor(n(i).innerHeight())}),r>n(t).innerHeight()):!1},sortColumn:function(t,r,u){var s;typeof r=="undefined"&&(r="asc");typeof u=="undefined"&&(u=!1);var e=n(t).index(),f=n(i.tableBody).find(".m-datatable__row"),o=n(t).closest(".m-datatable__lock").index();o!==-1&&(f=n(i.tableBody).find(".m-datatable__lock:nth-child("+(o+1)+")").find(".m-datatable__row"));s=n(f).parent();n(f).sort(function(t,i){var f=n(t).find("td:nth-child("+e+")").text(),o=n(i).find("td:nth-child("+e+")").text();return u&&(f=parseInt(f),o=parseInt(o)),r==="asc"?f>o?1:f<o?-1:0:f<o?1:f>o?-1:0}).appendTo(s)},sorting:function(){var f={init:function(){if(t.sortable){n(i.tableHead).find(".m-datatable__cell:not(.m-datatable__cell--check)").addClass("m-datatable__cell--sort").off("click").on("click",f.sortClick);f.setIcon()}},setIcon:function(){var t=u.getDataSourceParam("sort"),o=n(i.tableHead).find('.m-datatable__cell[data-field="'+t.field+'"]').attr("data-sort",t.sort),r=n(o).find("span"),f=n(r).find("i"),e=u.getOption("layout.icons.sort");n(f).length>0?n(f).removeAttr("class").addClass(e[t.sort]):n(r).append(n("<i/>").addClass(e[t.sort]))},sortClick:function(){var o=u.getDataSourceParam("sort"),s=n(this).data("field"),h=r.getColumnByField(s),e;(typeof h.sortable=="undefined"||h.sortable!==!1)&&(n(i.tableHead).find(".m-datatable__cell > span > i").remove(),t.sortable&&(r.spinnerCallback(!0),e="desc",o.field===s&&(e=o.sort),e=typeof e=="undefined"||e==="desc"?"asc":"desc",o={field:s,sort:e},u.setDataSourceParam("sort",o),f.setIcon(),setTimeout(function(){r.dataRender("sort");n(i).trigger("m-datatable--on-sort",o)},300)))}};f.init()},localDataUpdate:function(){var t=u.getDataSourceParam(),f;typeof i.originalDataSet=="undefined"&&(i.originalDataSet=i.dataSet);var s=t.sort.field,o=t.sort.sort,e=r.getColumnByField(s);return i.dataSet=typeof e!="undefined"?typeof e.sortCallback=="function"?e.sortCallback(i.originalDataSet,o,e):r.sortCallback(i.originalDataSet,o,e):i.originalDataSet,typeof t.query=="object"&&(t.query=t.query||{},f=n(u.getOption("search.input")).val(),typeof f!="undefined"&&f!==""&&(f=f.toLowerCase(),i.dataSet=n.grep(i.dataSet,function(n){for(var t in n)if(n.hasOwnProperty(t)&&typeof n[t]=="string"&&n[t].toLowerCase().indexOf(f)>-1)return!0;return!1}),delete t.query[r.getGeneralSearchKey()]),n.each(t.query,function(n,i){i===""&&delete t.query[n]}),i.dataSet=r.filterArray(i.dataSet,t.query),i.dataSet=i.dataSet.filter(function(){return!0})),i.dataSet},filterArray:function(t,i,r){if(typeof t!="object")return[];if(typeof r=="undefined"&&(r="AND"),typeof i!="object")return t;if(r=r.toUpperCase(),n.inArray(r,["AND","OR","NOT"])===-1)return[];var f=Object.keys(i).length,u=[];return n.each(t,function(t,e){var s=e,o=0;n.each(i,function(n,t){s.hasOwnProperty(n)&&t==s[n]&&o++});("AND"==r&&o==f||"OR"==r&&o>0||"NOT"==r&&0==o)&&(u[t]=e)}),u},resetScroll:function(){typeof t.detail=="undefined"&&r.getDepth()===1&&(n(i.table).find(".m-datatable__row").css("left",0),n(i.table).find(".m-datatable__lock").css("top",0),n(i.tableBody).scrollTop(0))},getColumnByField:function(i){var r;return n.each(t.columns,function(n,t){if(i===t.field)return r=t,!1}),r},getDefaultSortColumn:function(){var i={sort:"",field:""};return n.each(t.columns,function(t,r){if(typeof r.sortable!="undefined"&&n.inArray(r.sortable,["asc","desc"])!==-1)return i={sort:r.sortable,field:r.field},!1}),i},getHiddenDimensions:function(t,i){var u={position:"absolute",visibility:"hidden",display:"block"},r={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=n(t).parents().addBack().not(":visible"),f;return i=typeof i=="boolean"?i:!1,f=[],e.each(function(){var t={};for(var n in u)t[n]=this.style[n],this.style[n]=u[n];f.push(t)}),r.width=n(t).width(),r.outerWidth=n(t).outerWidth(i),r.innerWidth=n(t).innerWidth(),r.height=n(t).height(),r.innerHeight=n(t).innerHeight(),r.outerHeight=n(t).outerHeight(i),e.each(function(n){var i=f[n];for(var t in u)this.style[t]=i[t]}),r},getGeneralSearchKey:function(){var t=n(u.getOption("search.input"));return n(t).prop("name")||n(t).prop("id")},getObject:function(n,t){return n.split(".").reduce(function(n,t){return n!==null&&typeof n[t]!="undefined"?n[t]:null},t)},extendObj:function(n,t,i){function f(n){var t=r[u++];typeof n[t]!="undefined"&&n[t]!==null?typeof n[t]!="object"&&typeof n[t]!="function"&&(n[t]={}):n[t]={};u===r.length?n[t]=i:f(n[t])}var r=t.split("."),u=0;return f(n),n}},this.API={row:null,record:null,column:null,value:null,params:null},u={timer:0,redraw:function(){return r.adjustCellsWidth.call(),r.adjustCellsHeight.call(),r.adjustLockContainer.call(),r.initHeight.call(),i},load:function(){return u.reload(),i},reload:function(){var f=function(){return function(n,t){clearTimeout(u.timer);u.timer=setTimeout(n,t)}}();return f(function(){t.data.serverFiltering===!1&&r.localDataUpdate();r.dataRender();n(i).trigger("m-datatable--on-reloaded")},u.getOption("search.delay")),i},getRecord:function(t){return typeof i.tableBody=="undefined"&&(i.tableBody=n(i.table).children("tbody")),n(i.tableBody).find(".m-datatable__cell:first-child").each(function(u,f){if(t==n(f).text()){i.API.row=n(f).closest(".m-datatable__row");var e=i.API.row.index()+1;return i.API.record=i.API.value=r.getOneRow(i.tableBody,e),i}}),i},getColumn:function(t){return i.API.column=i.API.value=n(i.API.record).find('[data-field="'+t+'"]'),i},destroy:function(){return n(i).parent().find(".m-datatable__pager").remove(),n(i).replaceWith(n(i.old).addClass("m-datatable--destroyed").show()),n(i).trigger("m-datatable--on-destroy"),i},sort:function(t,r){return typeof r=="undefined"&&(r="asc"),n(i.tableHead).find('.m-datatable__cell[data-field="'+t+'"]').trigger("click"),i},getValue:function(){return n(i.API.value).text()},setActive:function(t){var r,f,u;typeof t=="string"&&(t=n(i.tableBody).find('.m-checkbox--single > [type="checkbox"][value="'+t+'"]'));n(t).prop("checked",!0);r=n(t).closest(".m-datatable__row").addClass("m-datatable__row--active");f=n(r).index()+1;n(r).closest(".m-datatable__lock").parent().find(".m-datatable__row:nth-child("+f+")").addClass("m-datatable__row--active");u=[];n(r).each(function(t,i){var r=n(i).find('.m-checkbox--single:not(.m-checkbox--all) > [type="checkbox"]').val();typeof r!="undefined"&&u.push(r)});n(i).trigger("m-datatable--on-check",[u])},setInactive:function(t){var r,f,u;typeof t=="string"&&(t=n(i.tableBody).find('.m-checkbox--single > [type="checkbox"][value="'+t+'"]'));n(t).prop("checked",!1);r=n(t).closest(".m-datatable__row").removeClass("m-datatable__row--active");f=n(r).index()+1;n(r).closest(".m-datatable__lock").parent().find(".m-datatable__row:nth-child("+f+")").removeClass("m-datatable__row--active");u=[];n(r).each(function(t,i){var r=n(i).find('.m-checkbox--single:not(.m-checkbox--all) > [type="checkbox"]').val();typeof r!="undefined"&&u.push(r)});n(i).trigger("m-datatable--on-uncheck",[u])},setActiveAll:function(t){t?u.setActive(n(i.table).find(".m-datatable__body .m-datatable__row").find(".m-datatable__cell")):u.setInactive(n(i.table).find(".m-datatable__body .m-datatable__row").find(".m-datatable__cell"));n(i.table).find(".m-datatable__body .m-datatable__row").find('.m-checkbox [type="checkbox"]').prop("checked",t||!1)},setSelectedRecords:function(){return i.API.record=n(i.tableBody).find(".m-datatable__row--active"),i},getSelectedRecords:function(){return u.setSelectedRecords(),i.API.record},getOption:function(n){return r.getObject(n,t)},setOption:function(n,i){t=r.extendObj(t,n,i)},search:function(i,f){typeof f!="undefined"&&(f=n.makeArray(f));var e=function(){return function(n,t){clearTimeout(u.timer);u.timer=setTimeout(n,t)}}();e(function(){var e=u.getDataSourceQuery(),o;typeof f=="undefined"&&typeof i!="undefined"&&(o=r.getGeneralSearchKey(),e[o]=i);typeof f=="object"&&(n.each(f,function(n,t){e[t]=i}),n.each(e,function(n,t){t===""&&delete e[n]}));u.setDataSourceQuery(e);t.data.serverFiltering===!1&&r.localDataUpdate();r.dataRender()},u.getOption("search.delay"))},setDataSourceParam:function(t,f){var e=r.getDefaultSortColumn();i.API.params=n.extend({},{pagination:{page:1,perpage:u.getOption("data.pageSize")},sort:{sort:e.sort,field:e.field},query:{}},i.API.params,r.stateGet(r.stateId));i.API.params=r.extendObj(i.API.params,t,f);r.stateKeep(r.stateId,i.API.params)},getDataSourceParam:function(t){var f=r.getDefaultSortColumn();return(i.API.params=n.extend({},{pagination:{page:1,perpage:u.getOption("data.pageSize")},sort:{sort:f.sort,field:f.field},query:{}},i.API.params,r.stateGet(r.stateId)),typeof t=="string")?r.getObject(t,i.API.params):i.API.params},getDataSourceQuery:function(){return u.getDataSourceParam("query")||{}},setDataSourceQuery:function(n){u.setDataSourceParam("query",n)},getCurrentPage:function(){return n(i.table).siblings(".m-datatable__pager").last().find(".m-datatable__pager-nav").find(".m-datatable__pager-link.m-datatable__pager-link--active").data("page")||1},getPageSize:function(){return n(i.table).siblings(".m-datatable__pager").last().find(".m-datatable__pager-size").val()||10},getTotalRows:function(){return i.API.params.pagination.total},getDataSet:function(){return i.originalDataSet},hideColumn:function(r){n.map(t.columns,function(n){return r===n.field&&(n.responsive={hidden:"xl"}),n});var u=n.grep(n(i.table).find(".m-datatable__cell"),function(t){return r===n(t).data("field")});n(u).hide()},showColumn:function(r){n.map(t.columns,function(n){return r===n.field&&delete n.responsive,n});var u=n.grep(n(i.table).find(".m-datatable__cell"),function(t){return r===n(t).data("field")});n(u).show()}},n.each(u,function(n,t){i[n]=t}),typeof t=="string"?u[t].apply(this,Array.prototype.slice.call(arguments,1)):typeof t!="object"&&t?n.error("Method "+t+" does not exist"):(i.textAlign={left:"m-datatable__cell--left",center:"m-datatable__cell--center",right:"m-datatable__cell--right"},i.dataSet=null,t=n.extend(!0,{},n.fn.mDatatable.defaults,t),n(i).data("options",t),n(i).trigger("m-datatable--on-init",t),r.init.apply(this,[t])),i}};n.fn.mDatatable.defaults={data:{type:"local",source:null,pageSize:10,saveState:{cookie:!0,webstorage:!0},serverPaging:!1,serverFiltering:!1,serverSorting:!1},layout:{theme:"default","class":"m-datatable--brand",scroll:!1,height:null,footer:!1,header:!0,smoothScroll:{scrollbarShown:!0},spinner:{overlayColor:"#000000",opacity:0,type:"loader",state:"brand",message:!0},icons:{sort:{asc:"la la-arrow-up",desc:"la la-arrow-down"},pagination:{next:"la la-angle-right",prev:"la la-angle-left",first:"la la-angle-double-left",last:"la la-angle-double-right",more:"la la-ellipsis-h"},rowDetail:{expand:"fa fa-caret-down",collapse:"fa fa-caret-right"}}},sortable:!0,resizable:!1,filterable:!1,pagination:!0,editable:!1,columns:[],search:{input:null,delay:400},rows:{},toolbar:{layout:["pagination","info"],placement:["bottom"],items:{pagination:{type:"default",pages:{desktop:{layout:"default",pagesNumber:6},tablet:{layout:"default",pagesNumber:3},mobile:{layout:"compact"}},navigation:{prev:!0,next:!0,first:!0,last:!0},pageSizeSelect:[10,20,30,50,100]},info:!0}},translate:{records:{processing:"Please wait...",noRecords:"No records found"},toolbar:{pagination:{items:{"default":{first:"First",prev:"Previous",next:"Next",last:"Last",more:"More pages",input:"Page number",select:"Select page size"},info:"Displaying {{start}} - {{end}} of {{total}} records"}}}}}}(jQuery),function(n){if(n.fn.mDropdown=function(t){var r={},u=n(this),f={run:function(n){return u.data("dropdown")?r=u.data("dropdown"):(f.init(n),f.build(),f.setup(),u.data("dropdown",r)),r},init:function(t){r.events=[];r.eventOne=!1;r.close=u.find(".m-dropdown__close");r.toggle=u.find(".m-dropdown__toggle");r.arrow=u.find(".m-dropdown__arrow");r.wrapper=u.find(".m-dropdown__wrapper");r.scrollable=u.find(".m-dropdown__scrollable");r.defaultDropPos=u.hasClass("m-dropdown--up")?"up":"down";r.currentDropPos=r.defaultDropPos;r.options=n.extend(!0,{},n.fn.mDropdown.defaults,t);u.data("drop-auto")===!0?r.options.dropAuto=!0:u.data("drop-auto")===!1&&(r.options.dropAuto=!1);r.scrollable.length>0&&(r.scrollable.data("min-height")&&(r.options.minHeight=r.scrollable.data("min-height")),r.scrollable.data("max-height")&&(r.options.maxHeight=r.scrollable.data("max-height")))},build:function(){if(mUtil.isMobileDevice()?u.data("dropdown-toggle")=="hover"||u.data("dropdown-toggle")=="click"?r.options.toggle="click":(r.options.toggle="click",r.toggle.click(f.toggle)):u.data("dropdown-toggle")=="hover"?(r.options.toggle="hover",u.mouseleave(f.hide)):u.data("dropdown-toggle")=="click"?r.options.toggle="click":r.options.toggle=="hover"?(u.mouseenter(f.show),u.mouseleave(f.hide)):r.toggle.click(f.toggle),r.close.length)r.close.on("click",f.hide);f.disableClose()},setup:function(){r.options.placement&&u.addClass("m-dropdown--"+r.options.placement);r.options.align&&u.addClass("m-dropdown--align-"+r.options.align);r.options.width&&r.wrapper.css("width",r.options.width);u.data("dropdown-persistent")&&(r.options.persistent=!0);r.options.minHeight&&r.scrollable.css("min-height",r.options.minHeight);r.options.maxHeight&&(r.scrollable.css("max-height",r.options.maxHeight),r.scrollable.css("overflow-y","auto"),mUtil.isDesktopDevice()&&mApp.initScroller(r.scrollable,{}));f.setZindex()},sync:function(){n(u).data("dropdown",r)},disableClose:function(){u.on("click",".m-dropdown--disable-close, .mCSB_1_scrollbar",function(n){n.preventDefault();n.stopPropagation()})},toggle:function(){return r.open?f.hide():f.show()},setContent:function(n){return u.find(".m-dropdown__content").html(n),r},show:function(){if(r.options.toggle=="hover"&&u.data("hover"))return f.clearHovered(),r;if(r.open)return r;if(r.arrow.length>0&&f.adjustArrowPos(),f.eventTrigger("beforeShow"),f.hideOpened(),u.addClass("m-dropdown--open"),mUtil.isMobileDevice()&&r.options.mobileOverlay){var i=r.wrapper.css("zIndex")-1,t=n('<div class="m-dropdown__dropoff"><\/div>');t.css("zIndex",i);t.data("dropdown",u);u.data("dropoff",t);u.after(t);t.click(function(t){f.hide();n(this).remove();t.preventDefault()})}return u.focus(),u.attr("aria-expanded","true"),r.open=!0,f.handleDropPosition(),f.eventTrigger("afterShow"),r},clearHovered:function(){u.removeData("hover");var n=u.data("timeout");u.removeData("timeout");clearTimeout(n)},hideHovered:function(n){if(n){if(f.eventTrigger("beforeHide")===!1)return;f.clearHovered();u.removeClass("m-dropdown--open");r.open=!1;f.eventTrigger("afterHide")}else{if(f.eventTrigger("beforeHide")===!1)return;var t=setTimeout(function(){u.data("hover")&&(f.clearHovered(),u.removeClass("m-dropdown--open"),r.open=!1,f.eventTrigger("afterHide"))},r.options.hoverTimeout);u.data("hover",!0);u.data("timeout",t)}},hideClicked:function(){f.eventTrigger("beforeHide")!==!1&&(u.removeClass("m-dropdown--open"),u.data("dropoff")&&u.data("dropoff").remove(),r.open=!1,f.eventTrigger("afterHide"))},hide:function(n){return r.open===!1?r:(r.options.toggle=="hover"?f.hideHovered(n):f.hideClicked(),r.defaultDropPos=="down"&&r.currentDropPos=="up"&&(u.removeClass("m-dropdown--up"),r.arrow.prependTo(r.wrapper),r.currentDropPos="down"),r)},hideOpened:function(){n(".m-dropdown.m-dropdown--open").each(function(){n(this).mDropdown().hide(!0)})},adjustArrowPos:function(){var t=u.outerWidth(),i=r.arrow.hasClass("m-dropdown__arrow--right")?"right":"left",n=0;r.arrow.length>0&&(mUtil.isInResponsiveRange("mobile")&&u.hasClass("m-dropdown--mobile-full-width")?(n=u.offset().left+t/2-Math.abs(r.arrow.width()/2)-parseInt(r.wrapper.css("left")),r.arrow.css("right","auto"),r.arrow.css("left",n),r.arrow.css("margin-left","auto"),r.arrow.css("margin-right","auto")):r.arrow.hasClass("m-dropdown__arrow--adjust")&&(n=t/2-Math.abs(r.arrow.width()/2),u.hasClass("m-dropdown--align-push")&&(n=n+20),i=="right"?(r.arrow.css("left","auto"),r.arrow.css("right",n)):(r.arrow.css("right","auto"),r.arrow.css("left",n))))},handleDropPosition:function(){return},setZindex:function(){var n=r.wrapper.css("z-index"),t=mUtil.getHighestZindex(u);t>n&&r.wrapper.css("z-index",zindex)},isPersistent:function(){return r.options.persistent},isShown:function(){return r.open},isInVerticalViewport:function(){var i=r.wrapper,f=i.offset(),u=i.outerHeight(),e=i.width(),t=i.find("[data-scrollable]");return t.length&&(t.data("max-height")?u+=parseInt(t.data("max-height")):t.data("height")&&(u+=parseInt(t.data("height")))),f.top+u<n(window).scrollTop()+n(window).height()},eventTrigger:function(n){for(i=0;i<r.events.length;i++){var t=r.events[i];if(t.name==n)if(t.one==!0){if(t.fired==!1)return r.events[i].fired=!0,t.handler.call(this,r)}else return t.handler.call(this,r)}},addEvent:function(n,t,i){return r.events.push({name:n,handler:t,one:i,fired:!1}),f.sync(),r}};return f.run.apply(this,[t]),r.show=function(){return f.show()},r.hide=function(){return f.hide()},r.toggle=function(){return f.toggle()},r.isPersistent=function(){return f.isPersistent()},r.isShown=function(){return f.isShown()},r.fixDropPosition=function(){return f.handleDropPosition()},r.setContent=function(n){return f.setContent(n)},r.on=function(n,t){return f.addEvent(n,t)},r.one=function(n,t){return f.addEvent(n,t,!0)},r},n.fn.mDropdown.defaults={toggle:"click",hoverTimeout:300,skin:"default",height:"auto",dropAuto:!0,maxHeight:!1,minHeight:!1,persistent:!1,mobileOverlay:!0},mUtil.isMobileDevice())n(document).on("click",'[data-dropdown-toggle="click"] .m-dropdown__toggle, [data-dropdown-toggle="hover"] .m-dropdown__toggle',function(t){t.preventDefault();n(this).parent(".m-dropdown").mDropdown().toggle()});else{n(document).on("click",'[data-dropdown-toggle="click"] .m-dropdown__toggle',function(t){t.preventDefault();n(this).parent(".m-dropdown").mDropdown().toggle()});n(document).on("mouseenter",'[data-dropdown-toggle="hover"]',function(t){t.preventDefault();n(this).mDropdown().toggle()})}n(document).on("click",function(t){n(".m-dropdown.m-dropdown--open").each(function(){if(n(this).data("dropdown")){var i=n(t.target),u=n(this).mDropdown(),r=n(this).find(".m-dropdown__toggle");r.length>0&&i.is(r)!==!0&&r.find(i).length===0&&i.find(r).length===0&&u.isPersistent()==!1?u.hide():n(this).find(i).length===0&&u.hide()}})})}(jQuery),function(n){n.fn.mExample=function(t){var r={},f=n(this),u={run:function(n){return f.data("example")?r=f.data("example"):(u.init(n),u.build(),u.setup(),f.data("example",r)),r},init:function(t){r.events=[];r.scrollable=f.find(".m-example__scrollable");r.options=n.extend(!0,{},n.fn.mExample.defaults,t);r.scrollable.length>0&&(r.scrollable.data("data-min-height")&&(r.options.minHeight=r.scrollable.data("data-min-height")),r.scrollable.data("data-max-height")&&(r.options.maxHeight=r.scrollable.data("data-max-height")))},build:function(){mUtil.isMobileDevice()},setup:function(){},eventTrigger:function(n){for(i=0;i<r.events.length;i++){var t=r.events[i];if(t.name==n)if(t.one==!0){if(t.fired==!1)return r.events[i].fired=!0,t.handler.call(this,r)}else return t.handler.call(this,r)}},addEvent:function(n,t,i){r.events.push({name:n,handler:t,one:i,fired:!1});u.sync()}};return u.run.apply(this,[t]),r.on=function(n,t){return u.addEvent(n,t)},r.one=function(n,t){return u.addEvent(n,t,!0)},r};n.fn.mExample.defaults={}}(jQuery),function(n){n.fn.mHeader=function(t){var i=this,u=n(this),r={run:function(n){return u.data("header")?i=u.data("header"):(r.init(n),r.reset(),r.build(),u.data("header",i)),i},init:function(t){i.options=n.extend(!0,{},n.fn.mHeader.defaults,t)},build:function(){r.toggle()},toggle:function(){var t=0;(i.options.minimize.mobile!==!1||i.options.minimize.desktop!==!1)&&n(window).scroll(function(){var u=0,r;mUtil.isInResponsiveRange("desktop")?(u=i.options.offset.desktop,on=i.options.minimize.desktop.on,off=i.options.minimize.desktop.off):mUtil.isInResponsiveRange("tablet-and-mobile")&&(u=i.options.offset.mobile,on=i.options.minimize.mobile.on,off=i.options.minimize.mobile.off);r=n(this).scrollTop();mUtil.isInResponsiveRange("tablet-and-mobile")&&i.options.classic&&i.options.classic.mobile||mUtil.isInResponsiveRange("desktop")&&i.options.classic&&i.options.classic.desktop?r>u?(n("body").addClass(on),n("body").removeClass(off)):(n("body").addClass(off),n("body").removeClass(on)):(r>u&&t<r?(n("body").addClass(on),n("body").removeClass(off)):(n("body").addClass(off),n("body").removeClass(on)),t=r)})},reset:function(){}};return r.run.apply(i,[t]),i.publicMethod=function(){},i};n.fn.mHeader.defaults={classic:!1,offset:{mobile:150,desktop:200},minimize:{mobile:!1,desktop:!1}}}(jQuery),function(n){n.fn.mMenu=function(t){var u=this,f=n(this),r={run:function(n,t){return f.data("menu")&&t!==!0?u=f.data("menu"):(r.init(n),r.reset(),r.build(),f.data("menu",u)),u},init:function(t){u.events=[];u.options=n.extend(!0,{},n.fn.mMenu.defaults,t);u.pauseDropdownHoverTime=0},build:function(){f.on("click",".m-menu__toggle",r.handleSubmenuAccordion);if(r.getSubmenuMode()==="dropdown"||r.isConditionalSubmenuDropdown()){f.on({mouseenter:r.handleSubmenuDrodownHoverEnter,mouseleave:r.handleSubmenuDrodownHoverExit},'[data-menu-submenu-toggle="hover"]');f.on("click",'[data-menu-submenu-toggle="click"] > .m-menu__toggle, [data-menu-submenu-toggle="click"] > .m-menu__link .m-menu__toggle',r.handleSubmenuDropdownClick);f.on("click",'[data-menu-submenu-toggle="tab"] > .m-menu__toggle, [data-menu-submenu-toggle="tab"] > .m-menu__link .m-menu__toggle',r.handleSubmenuDropdownTabClick)}f.find(".m-menu__item:not(.m-menu__item--submenu) > .m-menu__link:not(.m-menu__toggle):not(.m-menu__link--toggle-skip)").click(r.handleLinkClick)},reset:function(){f.off("click",".m-menu__toggle",r.handleSubmenuAccordion);f.off({mouseenter:r.handleSubmenuDrodownHoverEnter,mouseleave:r.handleSubmenuDrodownHoverExit},'[data-menu-submenu-toggle="hover"]');f.off("click",'[data-menu-submenu-toggle="click"] > .m-menu__toggle, [data-menu-submenu-toggle="click"] > .m-menu__link .m-menu__toggle',r.handleSubmenuDropdownClick);f.off("click",'[data-menu-submenu-toggle="tab"] > .m-menu__toggle, [data-menu-submenu-toggle="tab"] > .m-menu__link .m-menu__toggle',r.handleSubmenuDropdownTabClick);u.find(".m-menu__submenu, .m-menu__inner").css("display","");u.find(".m-menu__item--hover:not(.m-menu__item--tabs)").removeClass("m-menu__item--hover");u.find(".m-menu__item--open:not(.m-menu__item--expanded)").removeClass("m-menu__item--open")},getSubmenuMode:function(){if(mUtil.isInResponsiveRange("desktop")){if(mUtil.isset(u.options.submenu,"desktop.state.body"))return n("body").hasClass(u.options.submenu.desktop.state.body)?u.options.submenu.desktop.state.mode:u.options.submenu.desktop.default;if(mUtil.isset(u.options.submenu,"desktop"))return u.options.submenu.desktop}else return mUtil.isInResponsiveRange("tablet")&&mUtil.isset(u.options.submenu,"tablet")?u.options.submenu.tablet:mUtil.isInResponsiveRange("mobile")&&mUtil.isset(u.options.submenu,"mobile")?u.options.submenu.mobile:!1},isConditionalSubmenuDropdown:function(){return mUtil.isInResponsiveRange("desktop")&&mUtil.isset(u.options.submenu,"desktop.state.body")?!0:!1},handleLinkClick:function(t){r.eventTrigger("linkClick",n(this))===!1&&t.preventDefault();(r.getSubmenuMode()==="dropdown"||r.isConditionalSubmenuDropdown())&&r.handleSubmenuDropdownClose(t,n(this))},handleSubmenuDrodownHoverEnter:function(){if(r.getSubmenuMode()!=="accordion"&&u.resumeDropdownHover()!==!1){var t=n(this);r.showSubmenuDropdown(t);t.data("hover")==!0&&r.hideSubmenuDropdown(t,!1)}},handleSubmenuDrodownHoverExit:function(){if(u.resumeDropdownHover()!==!1&&r.getSubmenuMode()!=="accordion"){var t=n(this),i=u.options.dropdown.timeout,f=setTimeout(function(){t.data("hover")==!0&&r.hideSubmenuDropdown(t,!0)},i);t.data("hover",!0);t.data("timeout",f)}},handleSubmenuDropdownClick:function(t){if(r.getSubmenuMode()!=="accordion"){var i=n(this).closest(".m-menu__item");i.data("menu-submenu-mode")!="accordion"&&(i.hasClass("m-menu__item--hover")==!1?(i.addClass("m-menu__item--open-dropdown"),r.showSubmenuDropdown(i)):(i.removeClass("m-menu__item--open-dropdown"),r.hideSubmenuDropdown(i,!0)),t.preventDefault())}},handleSubmenuDropdownTabClick:function(t){if(r.getSubmenuMode()!=="accordion"){var i=n(this).closest(".m-menu__item");i.data("menu-submenu-mode")!="accordion"&&(i.hasClass("m-menu__item--hover")==!1&&(i.addClass("m-menu__item--open-dropdown"),r.showSubmenuDropdown(i)),t.preventDefault())}},handleSubmenuDropdownClose:function(t,i){if(r.getSubmenuMode()!=="accordion"){var u=f.find(".m-menu__item.m-menu__item--submenu.m-menu__item--hover:not(.m-menu__item--tabs)");u.length>0&&i.hasClass("m-menu__toggle")===!1&&i.find(".m-menu__toggle").length===0&&u.each(function(){r.hideSubmenuDropdown(n(this),!0)})}},handleSubmenuAccordion:function(t,i){var f=i?n(i):n(this),e,o,s,h,c;if(r.getSubmenuMode()==="dropdown"&&f.closest(".m-menu__item").data("menu-submenu-mode")!="accordion"){t.preventDefault();return}(e=f.closest("li"),o=e.children(".m-menu__submenu, .m-menu__inner"),f.closest(".m-menu__item").hasClass("m-menu__item--open-always"))||o.length>0&&(t.preventDefault(),s=u.options.accordion.slideSpeed,h=!1,e.hasClass("m-menu__item--open")===!1?(u.options.accordion.expandAll===!1&&(c=f.closest(".m-menu__nav, .m-menu__subnav").find("> .m-menu__item.m-menu__item--open.m-menu__item--submenu:not(.m-menu__item--expanded):not(.m-menu__item--open-always)"),c.each(function(){n(this).children(".m-menu__submenu").slideUp(s,function(){r.scrollToItem(f)});n(this).removeClass("m-menu__item--open")}),c.length>0&&(h=!0)),h?(o.slideDown(s,function(){r.scrollToItem(f)}),e.addClass("m-menu__item--open")):(o.slideDown(s,function(){r.scrollToItem(f)}),e.addClass("m-menu__item--open"))):(o.slideUp(s,function(){r.scrollToItem(f)}),e.removeClass("m-menu__item--open")))},scrollToItem:function(n){mUtil.isInResponsiveRange("desktop")&&u.options.accordion.autoScroll&&!f.data("menu-scrollable")&&mApp.scrollToViewport(n)},hideSubmenuDropdown:function(t,i){i&&(t.removeClass("m-menu__item--hover"),t.removeClass("m-menu__item--active-tab"));t.removeData("hover");t.data("menu-dropdown-toggle-class")&&n("body").removeClass(t.data("menu-dropdown-toggle-class"));var r=t.data("timeout");t.removeData("timeout");clearTimeout(r)},showSubmenuDropdown:function(t){f.find(".m-menu__item--submenu.m-menu__item--hover, .m-menu__item--submenu.m-menu__item--active-tab").each(function(){var i=n(this);t.is(i)||i.find(t).length>0||t.find(i).length>0||r.hideSubmenuDropdown(i,!0)});r.adjustSubmenuDropdownArrowPos(t);t.addClass("m-menu__item--hover");t.data("menu-dropdown-toggle-class")&&n("body").addClass(t.data("menu-dropdown-toggle-class"));r.getSubmenuMode()==="accordion"&&u.options.accordion.autoScroll&&mApp.scrollTo(t.children(".m-menu__item--submenu"))},resize:function(){var h,a,v,y;if(r.getSubmenuMode()==="dropdown"){var t=f.find("> .m-menu__nav > .m-menu__item--resize"),i=t.find("> .m-menu__submenu"),c,l=mUtil.getViewPort().width,p=f.find("> .m-menu__nav > .m-menu__item").length-1,e;if(r.getSubmenuMode()=="dropdown"&&(mUtil.isInResponsiveRange("desktop")&&mUtil.isset(u.options,"resize.desktop")&&(e=u.options.resize.desktop)&&l<=(c=t.data("menu-resize-desktop-breakpoint"))||mUtil.isInResponsiveRange("tablet")&&mUtil.isset(u.options,"resize.tablet")&&(e=u.options.resize.tablet)&&l<=(c=t.data("menu-resize-tablet-breakpoint"))||mUtil.isInResponsiveRange("mobile")&&mUtil.isset(u.options,"resize.mobile")&&(e=u.options.resize.mobile)&&l<=(c=t.data("menu-resize-mobile-breakpoint")))){var o=i.find("> .m-menu__subnav > .m-menu__item").length,s=f.find("> .m-menu__nav > .m-menu__item:not(.m-menu__item--resize)").length,w=o+s;if(e.apply()===!0)o>0&&i.find("> .m-menu__subnav > .m-menu__item").each(function(){var t=n(this),r=i.find("> .m-menu__nav > .m-menu__item:not(.m-menu__item--resize)").length;if(f.find("> .m-menu__nav > .m-menu__item:not(.m-menu__item--resize)").eq(r-1).after(t),e.apply()===!1)return t.appendTo(i.find("> .m-menu__subnav")),!1;o--;s++});else if(s>0)for(h=f.find("> .m-menu__nav > .m-menu__item:not(.m-menu__item--resize)"),a=h.length-1,v=0;v<h.length;v++){if(y=n(h.get(a)),a--,e.apply()===!0)break;y.appendTo(i.find("> .m-menu__subnav"));o++;s--}o>0?t.show():t.hide()}else i.find("> .m-menu__subnav > .m-menu__item").each(function(){var t=i.find("> .m-menu__subnav > .m-menu__item").length;f.find("> .m-menu__nav > .m-menu__item").get(t).after(n(this))}),t.hide()}},createSubmenuDropdownClickDropoff:function(t){var u=t.find("> .m-menu__submenu").css("zIndex")-1,i=n('<div class="m-menu__dropoff" style="background: transparent; position: fixed; top: 0; bottom: 0; left: 0; right: 0; z-index: '+u+'"><\/div>');n("body").after(i);i.on("click",function(i){i.stopPropagation();i.preventDefault();n(this).remove();r.hideSubmenuDropdown(t,!0)})},adjustSubmenuDropdownArrowPos:function(n){var r=n.find("> .m-menu__submenu > .m-menu__arrow.m-menu__arrow--adjust"),t=n.find("> .m-menu__submenu"),f=n.find("> .m-menu__submenu > .m-menu__subnav"),i,u;r.length>0&&(u=n.children(".m-menu__link"),t.hasClass("m-menu__submenu--classic")||t.hasClass("m-menu__submenu--fixed")?t.hasClass("m-menu__submenu--right")?(i=n.outerWidth()/2,t.hasClass("m-menu__submenu--pull")&&(i=i+Math.abs(parseInt(t.css("margin-right")))),i=t.width()-i):t.hasClass("m-menu__submenu--left")&&(i=n.outerWidth()/2,t.hasClass("m-menu__submenu--pull")&&(i=i+Math.abs(parseInt(t.css("margin-left"))))):t.hasClass("m-menu__submenu--center")||t.hasClass("m-menu__submenu--full")?(i=n.offset().left-(mUtil.getViewPort().width-t.outerWidth())/2,i=i+n.outerWidth()/2):t.hasClass("m-menu__submenu--left")||t.hasClass("m-menu__submenu--right"),r.css("left",i))},pauseDropdownHover:function(n){var t=new Date;u.pauseDropdownHoverTime=t.getTime()+n},resumeDropdownHover:function(){var n=new Date;return n.getTime()>u.pauseDropdownHoverTime?!0:!1},resetActiveItem:function(){f.find(".m-menu__item--active").each(function(){n(this).removeClass("m-menu__item--active");n(this).children(".m-menu__submenu").css("display","");n(this).parents(".m-menu__item--submenu").each(function(){n(this).removeClass("m-menu__item--open");n(this).children(".m-menu__submenu").css("display","")})});u.options.accordion.expandAll===!1&&f.find(".m-menu__item--open").each(function(){n(this).removeClass("m-menu__item--open")})},setActiveItem:function(t){r.resetActiveItem();var t=n(t);t.addClass("m-menu__item--active");t.parents(".m-menu__item--submenu").each(function(){n(this).addClass("m-menu__item--open")})},getBreadcrumbs:function(t){var i=[],t=n(t),r=t.children(".m-menu__link");return i.push({text:r.find(".m-menu__link-text").html(),title:r.attr("title"),href:r.attr("href")}),t.parents(".m-menu__item--submenu").each(function(){var t=n(this).children(".m-menu__link");i.push({text:t.find(".m-menu__link-text").html(),title:t.attr("title"),href:t.attr("href")})}),i.reverse(),i},getPageTitle:function(t){return t=n(t),t.children(".m-menu__link").find(".m-menu__link-text").html()},sync:function(){n(f).data("menu",u)},eventTrigger:function(n,t){for(i=0;i<u.events.length;i++){var r=u.events[i];if(r.name==n)if(r.one==!0){if(r.fired==!1)return u.events[i].fired=!0,r.handler.call(this,u,t)}else return r.handler.call(this,u,t)}},addEvent:function(n,t,i){u.events.push({name:n,handler:t,one:i,fired:!1});r.sync()}};return r.run.apply(u,[t]),typeof t!="undefined"&&n(window).resize(function(){r.run.apply(u,[t,!0])}),u.setActiveItem=function(n){return r.setActiveItem(n)},u.getBreadcrumbs=function(n){return r.getBreadcrumbs(n)},u.getPageTitle=function(n){return r.getPageTitle(n)},u.getSubmenuMode=function(){return r.getSubmenuMode()},u.hideDropdown=function(n){r.hideSubmenuDropdown(n,!0)},u.pauseDropdownHover=function(n){r.pauseDropdownHover(n)},u.resumeDropdownHover=function(){return r.resumeDropdownHover()},u.on=function(n,t){return r.addEvent(n,t)},u};n.fn.mMenu.defaults={accordion:{slideSpeed:200,autoScroll:!0,expandAll:!0},dropdown:{timeout:500}};n(document).on("click",function(t){n('.m-menu__nav .m-menu__item.m-menu__item--submenu.m-menu__item--hover:not(.m-menu__item--tabs)[data-menu-submenu-toggle="click"]').each(function(){var i=n(this).closest(".m-menu__nav").parent(),r;(menu=i.mMenu(),menu.getSubmenuMode()==="dropdown")&&n(t.target).is(i)==!1&&i.find(n(t.target)).length==0&&(r=i.find('.m-menu__item--submenu.m-menu__item--hover:not(.m-menu__item--tabs)[data-menu-submenu-toggle="click"]'),r.each(function(){menu.hideDropdown(n(this))}))})})}(jQuery),function(n){n.fn.mMessenger=function(t){var r={},f=n(this),u={run:function(n){return f.data("messenger")?r=f.data("messenger"):(u.init(n),u.build(),u.setup(),f.data("messenger",r)),r},init:function(t){r.events=[];r.scrollable=f.find(".m-messenger__scrollable");r.options=n.extend(!0,{},n.fn.mMessenger.defaults,t);r.scrollable.length>0&&(r.scrollable.data("data-min-height")&&(r.options.minHeight=r.scrollable.data("data-min-height")),r.scrollable.data("data-max-height")&&(r.options.maxHeight=r.scrollable.data("data-max-height")))},build:function(){mUtil.isMobileDevice()},setup:function(){},eventTrigger:function(n){for(i=0;i<r.events.length;i++){var t=r.events[i];if(t.name==n)if(t.one==!0){if(t.fired==!1)return r.events[i].fired=!0,t.handler.call(this,r)}else return t.handler.call(this,r)}},addEvent:function(n,t,i){r.events.push({name:n,handler:t,one:i,fired:!1});u.sync()}};return u.run.apply(this,[t]),r.on=function(n,t){return u.addEvent(n,t)},r.one=function(n,t){return u.addEvent(n,t,!0)},r};n.fn.mMessenger.defaults={}}(jQuery),function(n){n.fn.mOffcanvas=function(t){var r=this,f=n(this),u={run:function(n){return f.data("offcanvas")?r=f.data("offcanvas"):(u.init(n),u.build(),f.data("offcanvas",r)),r},init:function(t){r.events=[];r.options=n.extend(!0,{},n.fn.mOffcanvas.defaults,t);r.overlay;r.classBase=r.options.class;r.classShown=r.classBase+"--on";r.classOverlay=r.classBase+"-overlay";r.state=f.hasClass(r.classShown)?"shown":"hidden";r.close=r.options.close;r.options.toggle&&r.options.toggle.target?(r.toggleTarget=r.options.toggle.target,r.toggleState=r.options.toggle.state):(r.toggleTarget=r.options.toggle,r.toggleState="")},build:function(){n(r.toggleTarget).on("click",u.toggle);if(r.close)n(r.close).on("click",u.hide)},sync:function(){n(f).data("offcanvas",r)},toggle:function(){var t=n(this);r.state=="shown"?u.hide(t):u.show(t)},show:function(t){var e,i;if(r.state!="shown"){if(e=t?n(t):n(r.toggleTarget),u.eventTrigger("beforeShow"),r.toggleState!=""&&e.addClass(r.toggleState),n("body").addClass(r.classShown),f.addClass(r.classShown),r.state="shown",r.options.overlay){i=n('<div class="'+r.classOverlay+'"><\/div>');f.after(i);r.overlay=i;r.overlay.on("click",function(n){n.stopPropagation();n.preventDefault();u.hide()})}return u.eventTrigger("afterShow"),r}},hide:function(t){if(r.state!="hidden"){var i=t?n(t):n(r.toggleTarget);return u.eventTrigger("beforeHide"),r.toggleState!=""&&i.removeClass(r.toggleState),n("body").removeClass(r.classShown),f.removeClass(r.classShown),r.state="hidden",r.options.overlay&&r.overlay.remove(),u.eventTrigger("afterHide"),r}},eventTrigger:function(n){for(i=0;i<r.events.length;i++){var t=r.events[i];if(t.name==n)if(t.one==!0){if(t.fired==!1)return r.events[i].fired=!0,t.handler.call(this,r)}else return t.handler.call(this,r)}},addEvent:function(n,t,i){r.events.push({name:n,handler:t,one:i,fired:!1});u.sync()}},e=this;return u.run.apply(this,[t]),r.hide=function(){return u.hide()},r.show=function(){return u.show()},r.on=function(n,t){return u.addEvent(n,t)},r.one=function(n,t){return u.addEvent(n,t,!0)},r};n.fn.mOffcanvas.defaults={}}(jQuery),function(n){n.fn.mPortlet=function(t){var r={},f=n(this),u={run:function(n){return f.data("portlet-object")?r=f.data("portlet-object"):(u.init(n),u.build(),f.data("portlet-object",r)),r},init:function(t){r.options=n.extend(!0,{},n.fn.mPortlet.defaults,t);r.events=[];r.eventOne=!1;f.find("> .m-portlet__body").length!==0?r.body=f.find("> .m-portlet__body"):f.find("> .m-form").length!==0&&(r.body=f.find("> .m-form"))},build:function(){var r=f.find("> .m-portlet__head [data-portlet-tool=remove]"),n,t,i;r.length===1&&r.click(function(n){n.preventDefault();u.remove()});n=f.find("> .m-portlet__head [data-portlet-tool=reload]");n.length===1&&n.click(function(n){n.preventDefault();u.reload()});t=f.find("> .m-portlet__head [data-portlet-tool=toggle]");t.length===1&&t.click(function(n){n.preventDefault();u.toggle()});i=f.find("> .m-portlet__head [data-portlet-tool=fullscreen]");i.length===1&&i.click(function(n){n.preventDefault();u.fullscreen()});u.setupTooltips()},remove:function(){u.eventTrigger("beforeRemove")!==!1&&(n("body").hasClass("m-portlet--fullscreen")&&f.hasClass("m-portlet--fullscreen")&&u.fullscreen("off"),u.removeTooltips(),f.remove(),u.eventTrigger("afterRemove"))},setContent:function(n){n&&r.body.html(n)},getBody:function(){return r.body},getSelf:function(){return f},setupTooltips:function(){var e,i,u;if(r.options.tooltips){var s=f.hasClass("m-portlet--collapse")||f.hasClass("m-portlet--collapsed"),t=n("body").hasClass("m-portlet--fullscreen")&&f.hasClass("m-portlet--fullscreen"),o=f.find("> .m-portlet__head [data-portlet-tool=remove]");o.length===1&&(o.attr("title",r.options.tools.remove),o.data("placement",t?"bottom":"top"),o.data("offset",t?"0,10px,0,0":"0,5px"),o.tooltip("dispose"),mApp.initTooltip(o));e=f.find("> .m-portlet__head [data-portlet-tool=reload]");e.length===1&&(e.attr("title",r.options.tools.reload),e.data("placement",t?"bottom":"top"),e.data("offset",t?"0,10px,0,0":"0,5px"),e.tooltip("dispose"),mApp.initTooltip(e));i=f.find("> .m-portlet__head [data-portlet-tool=toggle]");i.length===1&&(s?i.attr("title",r.options.tools.toggle.expand):i.attr("title",r.options.tools.toggle.collapse),i.data("placement",t?"bottom":"top"),i.data("offset",t?"0,10px,0,0":"0,5px"),i.tooltip("dispose"),mApp.initTooltip(i));u=f.find("> .m-portlet__head [data-portlet-tool=fullscreen]");u.length===1&&(t?u.attr("title",r.options.tools.fullscreen.off):u.attr("title",r.options.tools.fullscreen.on),u.data("placement",t?"bottom":"top"),u.data("offset",t?"0,10px,0,0":"0,5px"),u.tooltip("dispose"),mApp.initTooltip(u))}},removeTooltips:function(){var n,t,i,u;r.options.tooltips&&(n=f.find("> .m-portlet__head [data-portlet-tool=remove]"),n.length===1&&n.tooltip("dispose"),t=f.find("> .m-portlet__head [data-portlet-tool=reload]"),t.length===1&&t.tooltip("dispose"),i=f.find("> .m-portlet__head [data-portlet-tool=toggle]"),i.length===1&&i.tooltip("dispose"),u=f.find("> .m-portlet__head [data-portlet-tool=fullscreen]"),u.length===1&&u.tooltip("dispose"))},reload:function(){u.eventTrigger("reload")},toggle:function(){f.hasClass("m-portlet--collapse")||f.hasClass("m-portlet--collapsed")?u.expand():u.collapse()},collapse:function(){u.eventTrigger("beforeCollapse")!==!1&&(r.body.slideUp(r.options.bodyToggleSpeed,function(){u.eventTrigger("afterCollapse")}),f.addClass("m-portlet--collapse"),u.setupTooltips())},expand:function(){u.eventTrigger("beforeExpand")!==!1&&(r.body.slideDown(r.options.bodyToggleSpeed,function(){u.eventTrigger("afterExpand")}),f.removeClass("m-portlet--collapse"),f.removeClass("m-portlet--collapsed"),u.setupTooltips())},fullscreen:function(t){t==="off"||n("body").hasClass("m-portlet--fullscreen")&&f.hasClass("m-portlet--fullscreen")?(u.eventTrigger("beforeFullscreenOff"),n("body").removeClass("m-portlet--fullscreen"),f.removeClass("m-portlet--fullscreen"),u.setupTooltips(),u.eventTrigger("afterFullscreenOff")):(u.eventTrigger("beforeFullscreenOn"),f.addClass("m-portlet--fullscreen"),n("body").addClass("m-portlet--fullscreen"),u.setupTooltips(),u.eventTrigger("afterFullscreenOn"))},sync:function(){n(f).data("portlet",r)},eventTrigger:function(n){for(i=0;i<r.events.length;i++){var t=r.events[i];if(t.name==n)if(t.one==!0){if(t.fired==!1)return r.events[i].fired=!0,t.handler.call(this,r)}else return t.handler.call(this,r)}},addEvent:function(n,t,i){return r.events.push({name:n,handler:t,one:i,fired:!1}),u.sync(),r}};return u.run.apply(this,[t]),r.remove=function(){return u.remove(html)},r.reload=function(){return u.reload()},r.setContent=function(n){return u.setContent(n)},r.toggle=function(){return u.toggle()},r.collapse=function(){return u.collapse()},r.expand=function(){return u.expand()},r.fullscreen=function(){return u.fullscreen("on")},r.unFullscreen=function(){return u.fullscreen("off")},r.getBody=function(){return u.getBody()},r.getSelf=function(){return u.getSelf()},r.on=function(n,t){return u.addEvent(n,t)},r.one=function(n,t){return u.addEvent(n,t,!0)},r};n.fn.mPortlet.defaults={bodyToggleSpeed:400,tooltips:!0,tools:{toggle:{collapse:"Collapse",expand:"Expand"},reload:"Reload",remove:"Remove",fullscreen:{on:"Fullscreen",off:"Exit Fullscreen"}}}}(jQuery),function(n){n.fn.mQuicksearch=function(t){var i=this,u=n(this),r={run:function(n){return u.data("qs")?i=u.data("qs"):(r.init(n),r.build(),u.data("qs",i)),i},init:function(t){i.options=n.extend(!0,{},n.fn.mQuicksearch.defaults,t);i.form=u.find("form");i.input=n(i.options.input);i.iconClose=n(i.options.iconClose);i.options.type=="default"&&(i.iconSearch=n(i.options.iconSearch),i.iconCancel=n(i.options.iconCancel));i.dropdown=u.mDropdown({mobileOverlay:!1});i.cancelTimeout;i.processing=!1},build:function(){if(i.input.keyup(r.handleSearch),i.options.type=="default")i.input.focus(r.showDropdown),i.iconCancel.click(r.handleCancel),i.iconSearch.click(function(){mUtil.isInResponsiveRange("tablet-and-mobile")&&(n("body").addClass("m-header-search--mobile-expanded"),i.input.focus())}),i.iconClose.click(function(){mUtil.isInResponsiveRange("tablet-and-mobile")&&(n("body").removeClass("m-header-search--mobile-expanded"),r.closeDropdown())});else if(i.options.type=="dropdown"){i.dropdown.on("afterShow",function(){i.input.focus()});i.iconClose.click(r.closeDropdown)}},handleSearch:function(){var t=i.input.val();(t.length===0&&(i.dropdown.hide(),r.handleCancelIconVisibility("on"),r.closeDropdown(),u.removeClass(i.options.hasResultClass)),t.length<i.options.minLength||i.processing==!0)||(i.processing=!0,i.form.addClass(i.options.spinner),r.handleCancelIconVisibility("off"),n.ajax({url:i.options.source,data:{query:t},dataType:"html",success:function(n){i.processing=!1;i.form.removeClass(i.options.spinner);r.handleCancelIconVisibility("on");i.dropdown.setContent(n).show();u.addClass(i.options.hasResultClass)},error:function(n){i.processing=!1;i.form.removeClass(i.options.spinner);r.handleCancelIconVisibility("on");i.dropdown.setContent(i.options.templates.error.apply(i,n)).show();u.addClass(i.options.hasResultClass)}}))},handleCancelIconVisibility:function(n){i.options.type=="dropdown";n=="on"?i.input.val().length===0?(i.iconCancel&&i.iconCancel.css("visibility","hidden"),i.iconClose&&i.iconClose.css("visibility","hidden")):(clearTimeout(i.cancelTimeout),i.cancelTimeout=setTimeout(function(){i.iconCancel&&i.iconCancel.css("visibility","visible");i.iconClose&&i.iconClose.css("visibility","visible")},500)):(i.iconCancel&&i.iconCancel.css("visibility","hidden"),i.iconClose&&i.iconClose.css("visibility","hidden"))},handleCancel:function(){i.input.val("");i.iconCancel.css("visibility","hidden");u.removeClass(i.options.hasResultClass);r.closeDropdown()},closeDropdown:function(){i.dropdown.hide()},showDropdown:function(n){i.dropdown.isShown()==!1&&i.input.val().length>i.options.minLength&&i.processing==!1&&(i.dropdown.show(),n.preventDefault(),n.stopPropagation())}};return r.run.apply(i,[t]),i.test=function(){},i};n.fn.mQuicksearch.defaults={minLength:1,maxHeight:300}}(jQuery),function(n){n.fn.mScrollTop=function(t){var r=this,f=n(this),u={run:function(n){return f.data("scrollTop")?r=f.data("scrollTop"):(u.init(n),u.build(),f.data("scrollTop",r)),r},init:function(t){r.element=f;r.events=[];r.options=n.extend(!0,{},n.fn.mScrollTop.defaults,t)},build:function(){navigator.userAgent.match(/iPhone|iPad|iPod/i)?n(window).bind("touchend touchcancel touchleave",function(){u.handle()}):n(window).scroll(function(){u.handle()});f.on("click",u.scroll)},sync:function(){n(f).data("scrollTop",r)},handle:function(){var t=n(window).scrollTop();t>r.options.offset?n("body").addClass("m-scroll-top--shown"):n("body").removeClass("m-scroll-top--shown")},scroll:function(t){t.preventDefault();n("html, body").animate({scrollTop:0},r.options.speed)},eventTrigger:function(n){for(i=0;i<r.events.length;i++){var t=r.events[i];if(t.name==n)if(t.one==!0){if(t.fired==!1)return r.events[i].fired=!0,t.handler.call(this,r)}else return t.handler.call(this,r)}},addEvent:function(n,t,i){r.events.push({name:n,handler:t,one:i,fired:!1});u.sync()}},e=this;return u.run.apply(this,[t]),r.on=function(n,t){return u.addEvent(n,t)},r.one=function(n,t){return u.addEvent(n,t,!0)},r};n.fn.mScrollTop.defaults={offset:300,speed:600}}(jQuery),function(n){n.fn.mToggle=function(t){var r=this,f=n(this),u={run:function(n){return f.data("toggle")?r=f.data("toggle"):(u.init(n),u.build(),f.data("toggle",r)),r},init:function(t){r.element=f;r.events=[];r.options=n.extend(!0,{},n.fn.mToggle.defaults,t);r.target=n(r.options.target);r.targetState=r.options.targetState;r.togglerState=r.options.togglerState;r.state=mUtil.hasClasses(r.target,r.targetState)?"on":"off"},build:function(){f.on("click",u.toggle)},sync:function(){n(f).data("toggle",r)},toggle:function(){return r.state=="off"?u.toggleOn():u.toggleOff(),u.eventTrigger("toggle"),r},toggleOn:function(){return u.eventTrigger("beforeOn"),r.target.addClass(r.targetState),r.togglerState&&f.addClass(r.togglerState),r.state="on",u.eventTrigger("afterOn"),r},toggleOff:function(){return u.eventTrigger("beforeOff"),r.target.removeClass(r.targetState),r.togglerState&&f.removeClass(r.togglerState),r.state="off",u.eventTrigger("afterOff"),r},eventTrigger:function(n){for(r.trigger(n),i=0;i<r.events.length;i++){var t=r.events[i];if(t.name==n)if(t.one==!0){if(t.fired==!1)return r.events[i].fired=!0,t.handler.call(this,r)}else return t.handler.call(this,r)}},addEvent:function(n,t,i){return r.events.push({name:n,handler:t,one:i,fired:!1}),u.sync(),r}},e=this;return u.run.apply(this,[t]),r.getState=function(){return r.state},r.toggle=function(){return u.toggle()},r.toggleOn=function(){return u.toggleOn()},r.toggleOff=function(){return u.toggleOff()},r.on=function(n,t){return u.addEvent(n,t)},r.one=function(n,t){return u.addEvent(n,t,!0)},r};n.fn.mToggle.defaults={togglerState:"",targetState:""}}(jQuery);$.notifyDefaults({template:'<div data-notify="container" class="alert alert-{0} m-alert" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss"><\/button><span data-notify="icon"><\/span><span data-notify="title">{1}<\/span><span data-notify="message">{2}<\/span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-animated bg-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"><\/div><\/div><a href="{3}" target="{4}" data-notify="url"><\/a><\/div>'});Chart.elements.Rectangle.prototype.draw=function(){function d(n){return h[(k+n)%4]}var t=this._chart.ctx,n=this._view,r,u,f,e,l,a,o,s=n.borderWidth,w=this._chart.options.barRadius?this._chart.options.barRadius:0,b,p,c,i;if(n.horizontal?(r=n.base,u=n.x,f=n.y-n.height/2,e=n.y+n.height/2,l=u>r?1:-1,a=1,o=n.borderSkipped||"left"):(r=n.x-n.width/2,u=n.x+n.width/2,f=n.y>2*w?n.y-w:n.y,e=n.base,l=1,a=e>f?1:-1,o=n.borderSkipped||"bottom"),s){b=Math.min(Math.abs(r-u),Math.abs(f-e));s=s>b?b:s;var v=s/2,g=r+(o!=="left"?v*l:0),nt=u+(o!=="right"?-v*l:0),tt=f+(o!=="top"?v*a:0),it=e+(o!=="bottom"?-v*a:0);g!==nt&&(f=tt,e=it);tt!==it&&(r=g,u=nt)}t.beginPath();t.fillStyle=n.backgroundColor;t.strokeStyle=n.borderColor;t.lineWidth=s;var h=[[r,e],[r,f],[u,f],[u,e]],k=["bottom","left","top","right"].indexOf(o,0);for(k===-1&&(k=0),p=d(0),t.moveTo(p[0],p[1]),c=1;c<4;c++)p=d(c),nextCornerId=c+1,nextCornerId==4&&(nextCornerId=0),nextCorner=d(nextCornerId),width=h[2][0]-h[1][0],height=h[0][1]-h[1][1],x=h[1][0],y=h[1][1],i=w,i>height/2&&(i=height/2),i>width/2&&(i=width/2),t.moveTo(x+i,y),t.lineTo(x+width-i,y),t.quadraticCurveTo(x+width,y,x+width,y+i),t.lineTo(x+width,y+height-i),t.quadraticCurveTo(x+width,y+height,x+width-i,y+height),t.lineTo(x+i,y+height),t.quadraticCurveTo(x,y+height,x,y+height-i),t.lineTo(x,y+i),t.quadraticCurveTo(x,y,x+i,y);t.fill();s&&t.stroke()};$.fn.markdown.defaults.iconlibrary="fa";$.fn.timepicker.defaults=$.extend(!0,{},$.fn.timepicker.defaults,{icons:{up:"la la-angle-up",down:"la la-angle-down"}});jQuery.validator.setDefaults({errorElement:"div",errorClass:"form-control-feedback",focusInvalid:!1,ignore:"",errorPlacement:function(n,t){var i=$(t).closest(".m-form__group-sub").length>0?$(t).closest(".m-form__group-sub"):$(t).closest(".m-form__group"),r=i.find(".m-form__help");i.find(".form-control-feedback").length===0&&(r.length>0?r.before(n):$(t).closest(".input-group").length>0?$(t).closest(".input-group").after(n):$(t).is(":checkbox")?$(t).closest(".m-checkbox").find(">span").after(n):$(t).after(n))},highlight:function(n){var t=$(n).closest(".m-form__group-sub").length>0?$(n).closest(".m-form__group-sub"):$(n).closest(".m-form__group");console.log("add"+t.attr("class"));t.addClass("has-danger")},unhighlight:function(n){var t=$(n).closest(".m-form__group-sub").length>0?$(n).closest(".m-form__group-sub"):$(n).closest(".m-form__group");t.removeClass("has-danger")},success:function(n){var t=$(n).closest(".m-form__group-sub").length>0?$(n).closest(".m-form__group-sub"):$(n).closest(".m-form__group");t.removeClass("has-danger");t.find(".form-control-feedback").remove()}});jQuery.validator.addMethod("email",function(n){return/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(n)?!0:!1},"Please enter a valid Email.");mLayout=function(){var t,n,i,r,u=function(){var t=$(".m-header"),n={offset:{},minimize:{}};t.data("minimize-mobile")=="hide"?(n.minimize.mobile={},n.minimize.mobile.on="m-header--hide",n.minimize.mobile.off="m-header--show"):n.minimize.mobile=!1;t.data("minimize")=="hide"?(n.minimize.desktop={},n.minimize.desktop.on="m-header--hide",n.minimize.desktop.off="m-header--show"):n.minimize.desktop=!1;t.data("minimize-offset")&&(n.offset.desktop=t.data("minimize-offset"));t.data("minimize-mobile-offset")&&(n.offset.mobile=t.data("minimize-mobile-offset"));t.mHeader(n)},f=function(){r=$("#m_header_menu").mOffcanvas({"class":"m-aside-header-menu-mobile",overlay:!0,close:"#m_aside_header_menu_mobile_close_btn",toggle:{target:"#m_aside_header_menu_mobile_toggle",state:"m-brand__toggler--active"}});t=$("#m_header_menu").mMenu({submenu:{desktop:"dropdown",tablet:"accordion",mobile:"accordion"},resize:{desktop:function(){var n=$("#m_header_nav").width(),t=$("#m_header_menu_container").width(),i=$("#m_header_topbar").width();return t+i+20>n?!1:!0}}})},e=function(){var t=$("#m_ver_menu"),r={submenu:{desktop:{"default":t.data("menu-dropdown")==!0?"dropdown":"accordion",state:{body:"m-aside-left--minimize",mode:"dropdown"}},tablet:"accordion",mobile:"accordion"},accordion:{autoScroll:!0,expandAll:!1}};if(n=t.mMenu(r),t.data("menu-scrollable")){function i(n){if(mUtil.isInResponsiveRange("tablet-and-mobile")){mApp.destroyScroller(n);return}var t=mUtil.getViewPort().height-$(".m-header").outerHeight()-($(".m-aside-left .m-aside__header").length!=0?$(".m-aside-left .m-aside__header").outerHeight():0)-($(".m-aside-left .m-aside__footer").length!=0?$(".m-aside-left .m-aside__footer").outerHeight():0);mApp.initScroller(n,{height:t})}i(n);mUtil.addResizeHandler(function(){i(n)})}},o=function(){var n=$("#m_aside_left").hasClass("m-aside-left--offcanvas-default")?"m-aside-left--offcanvas-default":"m-aside-left";i=$("#m_aside_left").mOffcanvas({"class":n,overlay:!0,close:"#m_aside_left_close_btn",toggle:{target:"#m_aside_left_offcanvas_toggle",state:"m-brand__toggler--active"}})},s=function(){var i=$("#m_aside_left_minimize_toggle").mToggle({target:"body",targetState:"m-brand--minimize m-aside-left--minimize",togglerState:"m-brand__toggler--active"}).on("toggle",function(i){t.pauseDropdownHover(800);n.pauseDropdownHover(800);Cookies.set("sidebar_toggle_state",i.getState())});$("#m_aside_left_hide_toggle").mToggle({target:"body",targetState:"m-aside-left--hide",togglerState:"m-brand__toggler--active"}).on("toggle",function(){t.pauseDropdownHover(800);n.pauseDropdownHover(800)})},h=function(){$("#m_aside_header_topbar_mobile_toggle").click(function(){$("body").toggleClass("m-topbar--on")});setInterval(function(){$("#m_topbar_notification_icon .m-nav__link-icon").addClass("m-animate-shake");$("#m_topbar_notification_icon .m-nav__link-badge").addClass("m-animate-blink")},3e3);setInterval(function(){$("#m_topbar_notification_icon .m-nav__link-icon").removeClass("m-animate-shake");$("#m_topbar_notification_icon .m-nav__link-badge").removeClass("m-animate-blink")},6e3)},c=function(){var n=$("#m_quicksearch");n.mQuicksearch({type:n.data("search-type"),source:"inc/api/quick_search.php",spinner:"m-loader m-loader--skin-light m-loader--right",input:"#m_quicksearch_input",iconClose:"#m_quicksearch_close",iconCancel:"#m_quicksearch_cancel",iconSearch:"#m_quicksearch_search",hasResultClass:"m-list-search--has-result",minLength:1,templates:{error:function(){return'<div class="m-search-results m-search-results--skin-light"><span class="m-search-result__message">Something went wrong<\/div><\/div>'}}})},l=function(){$('[data-toggle="m-scroll-top"]').mScrollTop({offset:300,speed:600})};return{init:function(){this.initHeader();this.initAside()},initHeader:function(){u();f();h();c();l()},initAside:function(){o();e();s();this.onLeftSidebarToggle(function(){var n=$(".m-datatable");$(n).each(function(){$(this).mDatatable("redraw")})})},getAsideMenu:function(){return n},onLeftSidebarToggle:function(n){$("#m_aside_left_minimize_toggle").mToggle().on("toggle",n)},closeMobileAsideMenuOffcanvas:function(){mUtil.isMobileDevice()&&i.hide()},closeMobileHorMenuOffcanvas:function(){mUtil.isMobileDevice()&&r.hide()}}}();$(document).ready(function(){mUtil.isAngularVersion()===!1&&mLayout.init()});