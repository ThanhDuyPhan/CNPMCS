(function(){function n(){window.paypal.request.addHeaderBuilder(()=>({"X-XSRF-TOKEN":abp.security.antiForgery.getToken()}));window.paypal.Button.render({style:{size:"responsive"},env:$("#paypal-environment").val(),commit:!0,payment:function(){var n=t(),i={editionId:$("input[name=EditionId]").val(),editionPaymentType:$("input[name=EditionPaymentType]").val(),gateway:"PayPal"};return n&&(i.paymentPeriodType=n),window.paypal.request.post(abp.appPath+"Payment/CreatePayment",i).then(function(n){return n.result.id})},onAuthorize:function(n){i(n)}},"#paypal-button")}function t(){var n=$("input[name=PaymentPeriodType]");return n?n.attr("type")==="radio"?$("input[name=PaymentPeriodType]:checked").val():n.val():null}function i(n){$("input[name=PaymentGatewayState]").val("created");$("input[name=PaymentId]").val(n.paymentID);$("input[name=PayerId]").val(n.payerID);$("input[name=Gateway]").val("PayPal");$("#formPaymentResult").submit()}n()})();