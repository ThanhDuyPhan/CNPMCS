(function(){app.modals.NotificationSettingsModal=function(){function r(){var n=[];return $.each($(".notification input[type=checkbox]"),function(t,i){n.push({name:$(i).attr("id").replace("Notification_",""),isSubscribed:$(i).is(":checked")})}),n}var i=abp.services.app.notification,n,t=null;this.init=function(i){n=i;t=n.getModal().find("form[name=NotificationSettingsForm]");t.validate();$(".make-switch").bootstrapSwitch().on("switchChange.bootstrapSwitch",function(){var n=$(this).is(":checked"),t=$("div.notification").length;t?$(".notification-types-header").removeClass("d-none"):$(".notification-types-header").addClass("d-none");t&&!n?$(".disable-info").removeClass("d-none"):$(".disable-info").addClass("d-none");n?$("div.notification input[type=checkbox]").removeAttr("disabled"):$("div.notification input[type=checkbox]").attr("disabled","disabled")})};this.save=function(){if(t.valid()){var u=t.serializeFormToObject();u.receiveNotifications=$("#NotificationSettigs_ReceiveNotifications").bootstrapSwitch("state");u.notifications=r();n.setBusy(!0);i.updateNotificationSettings(u).done(function(){abp.notify.info(app.localize("SavedSuccessfully"));n.close()}).always(function(){n.setBusy(!1)})}}}})();