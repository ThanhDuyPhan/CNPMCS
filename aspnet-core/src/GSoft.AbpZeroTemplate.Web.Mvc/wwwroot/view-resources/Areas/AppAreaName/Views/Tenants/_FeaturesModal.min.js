(function(){app.modals.TenantFeaturesModal=function(){function r(){n.setBusy(!0);i.resetTenantSpecificFeatures({id:n.getArgs().id}).done(function(){abp.notify.info(app.localize("ResetSuccessfully"));n.getModal().on("hidden.bs.modal",function(){n.reopen()});n.close()}).always(function(){n.setBusy(!1)})}var i=abp.services.app.tenant,n,t;this.init=function(i){n=i;t=new FeaturesTree;t.init(n.getModal().find(".feature-tree"));n.getModal().find("[data-toggle=tooltip]").tooltip();n.getModal().find(".reset-features-button").click(function(){r()})};this.save=function(){if(!t.isValid()){abp.message.warn(app.localize("InvalidFeaturesWarning"));return}n.setBusy(!0);i.updateTenantFeatures({id:n.getArgs().id,featureValues:t.getFeatureValues()}).done(function(){abp.notify.info(app.localize("SavedSuccessfully"));n.close()}).always(function(){n.setBusy(!1)})}}})();