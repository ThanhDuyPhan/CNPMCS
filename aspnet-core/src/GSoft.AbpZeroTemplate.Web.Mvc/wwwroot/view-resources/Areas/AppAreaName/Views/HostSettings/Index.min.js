(function(n){n(function(){function o(){n("#Settings_SmtpUseDefaultCredentials").is(":checked")?r.slideUp("fast"):r.slideDown("fast")}function s(){n("#Setting_AllowSelfRegistration").is(":checked")?u.slideDown("fast"):u.slideUp("fast")}function h(){n("#Setting_UserLockOut_IsEnabled").is(":checked")?f.slideDown("fast"):f.slideUp("fast")}function c(){n("#Setting_TwoFactorLogin_IsEnabled").is(":checked")?e.slideDown("fast"):e.slideUp("fast")}function v(){var t=n("#DefaultPasswordComplexitySettingsForm input:disabled"),i;return t.removeAttr("disabled"),i=n("#DefaultPasswordComplexitySettingsForm").serializeFormToObject(),t.attr("disabled","disabled"),i}var t=abp.services.app.hostSettings,l=n("#GeneralSettingsForm [name=Timezone]").val(),a=n("#GeneralSettingsForm [name=TimezoneForComparison]").val()===abp.setting.values["Abp.Timing.TimeZone"],i=n("#SettingsTabPanel"),r=i.find("input[name=SmtpDomain],input[name=SmtpUserName],input[name=SmtpPassword]").closest(".form-group"),u=i.find("input[name=IsNewRegisteredTenantActiveByDefault],input[name=UseCaptchaOnRegistration]").closest(".form-group"),f=n("#UserLockOutSettingsForm").find("input").not("#Setting_UserLockOut_IsEnabled").closest(".form-group"),e=n("#TwoFactorLoginSettingsForm").find("input").not("#Setting_TwoFactorLogin_IsEnabled").closest(".m-checkbox");o();s();h();c();n("#Settings_SmtpUseDefaultCredentials").change(function(){o()});n("#Setting_AllowSelfRegistration").change(function(){s()});n("#Setting_UserLockOut_IsEnabled").change(function(){h()});n("#Setting_TwoFactorLogin_IsEnabled").change(function(){c()});n("#Setting_PasswordComplexity_UseDefaultSettings").change(function(){n("#Setting_PasswordComplexity_UseDefaultSettings").is(":checked")?(n("#DefaultPasswordComplexitySettingsForm").show(),n("#PasswordComplexitySettingsForm").hide()):(n("#DefaultPasswordComplexitySettingsForm").hide(),n("#PasswordComplexitySettingsForm").show())});n("#SaveAllSettingsButton").click(function(){t.updateAllSettings({general:n("#GeneralSettingsForm").serializeFormToObject(),tenantManagement:n("#TenantManagementSettingsForm").serializeFormToObject(),userManagement:n("#UserManagementSettingsForm").serializeFormToObject(),email:n("#EmailSmtpSettingsForm").serializeFormToObject(),chat:n("#ChatSettingsForm").serializeFormToObject(),billing:n("#BillingSettingsForm").serializeFormToObject(),security:{useDefaultPasswordComplexitySettings:n("#Setting_PasswordComplexity_UseDefaultSettings").is(":checked"),passwordComplexity:n("#PasswordComplexitySettingsForm").serializeFormToObject(),defaultPasswordComplexity:v(),userLockOut:n("#UserLockOutSettingsForm").serializeFormToObject(),twoFactorLogin:n("#TwoFactorLoginSettingsForm").serializeFormToObject()}}).done(function(){abp.notify.info(app.localize("SavedSuccessfully"));var t=n("#GeneralSettingsForm [name=Timezone]").val();abp.clock.provider.supportsMultipleTimezone&&a&&l!==t&&abp.message.info(app.localize("TimeZoneSettingChangedRefreshPageNotification")).done(function(){window.location.reload()})})});n("#SendTestEmailButton").click(function(){t.sendTestEmail({emailAddress:n("#TestEmailAddressInput").val()}).done(function(){abp.notify.info(app.localize("TestEmailSentSuccessfully"))})})})})(jQuery);