var PermissionsTree=function(n){return function(){function r(r){t=r;t.jstree({types:{"default":{icon:"fa fa-folder m--font-warning"},file:{icon:"fa fa-file  m--font-warning"}},checkbox:{keep_selected_style:!1,three_state:!1,cascade:""},plugins:["checkbox","types"]});t.on("changed.jstree",function(r,u){if(u.node){var f;u.node.state.selected?(i(t.jstree("get_parent",u.node)),f=n.makeArray(t.jstree("get_node",u.node).children),t.jstree("select_node",f)):(f=n.makeArray(t.jstree("get_node",u.node).children),t.jstree("deselect_node",f))}})}function i(n){t.jstree("select_node",n,!0);var r=t.jstree("get_parent",n);r&&i(r)}function u(){for(var i=[],r=t.jstree("get_selected",!0),n=0;n<r.length;n++)i.push(r[n].id);return i}var t;return{init:r,getSelectedPermissionNames:u}}}(jQuery);