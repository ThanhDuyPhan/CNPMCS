(function(){app.modals.EditLanguageTextModal=function(){var n,i=abp.services.app.language,t=null;this.init=function(i){n=i;t=n.getModal().find("form[name=EditLanguageTextForm]");t.validate()};this.save=function(){t.valid()&&(n.setBusy(!0),i.updateLanguageText(t.serializeFormToObject()).done(function(){abp.notify.info(app.localize("SavedSuccessfully"));n.close();abp.event.trigger("app.editLanguageTextModalSaved")}).always(function(){n.setBusy(!1)}))}}})(jQuery),function(){$(function(){var i=$("#TextsTable"),r=abp.services.app.language,u=new app.ModalManager({viewUrl:abp.appPath+"AppAreaName/Languages/EditTextModal",scriptUrl:abp.appPath+"view-resources/Areas/AppAreaName/Views/Languages/_EditTextModal.js",modalClass:"EditLanguageTextModal"}),f=function(){return{targetLanguageName:$("#TextTargetLanguageSelectionCombobox").val(),sourceName:$("#TextSourceSelectionCombobox").val(),baseLanguageName:$("#TextBaseLanguageSelectionCombobox").val(),targetValueFilter:$("#TargetValueFilterSelectionCombobox").val(),filterText:$("#TextFilter").val()}},t=i.DataTable({paging:!0,serverSide:!0,processing:!0,listAction:{ajaxFunction:r.getLanguageTexts,inputFilter:f},columnDefs:[{className:"control responsive",orderable:!1,render:function(){return""},targets:0},{targets:1,data:"key",render:function(n){return'<span title="'+n+'">'+app.utils.string.truncate(n,32)+"<\/span>"}},{targets:2,data:"baseValue",render:function(n){return $("<span/>").attr("title",n||"").html(app.utils.string.truncate(n,32)||"")[0].outerHTML}},{targets:3,data:"targetValue",render:function(n){return $("<span/>").attr("title",n||"").html(app.utils.string.truncate(n,32)||"")[0].outerHTML}},{targets:4,data:null,orderable:!1,defaultContent:"",rowAction:{element:$('<button class="btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill" title="'+app.localize("Edit")+'"><i class="la la-edit"><\/i><\/button>').click(function(){var n=$(this).data();u.open({sourceName:$("#TextSourceSelectionCombobox").val(),baseLanguageName:$("#TextBaseLanguageSelectionCombobox").val(),languageName:$("#TextTargetLanguageSelectionCombobox").val(),key:n.key})})}}]}),n;$("#TextBaseLanguageSelectionCombobox,#TextTargetLanguageSelectionCombobox").selectpicker({iconBase:"famfamfam-flag",tickIcon:"fa fa-check"});$("#TextSourceSelectionCombobox,#TargetValueFilterSelectionCombobox").selectpicker({iconBase:"fa",tickIcon:"fa fa-check"});$("#RefreshTextsButton").click(function(t){t.preventDefault();n()});$("#TextsFilterForm select").change(function(){n()});$("#TextFilter").focus();n=function(){t.ajax.reload()};abp.event.on("app.editLanguageTextModalSaved",function(){t.ajax.reloadPage()})})}();