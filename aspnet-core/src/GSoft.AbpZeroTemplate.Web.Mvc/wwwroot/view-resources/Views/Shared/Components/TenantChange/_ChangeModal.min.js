(function(){app.modals.TenantChangeModal=function(){var n,i=abp.services.app.account,t=null;this.init=function(i){n=i;t=n.getModal().find("form[name=TenantChangeForm]")};this.save=function(){var r=t.find("input[name=TenancyName]").val();if(!r){abp.multiTenancy.setTenantIdCookie(null);n.close();location.reload();return}n.setBusy(!0);i.isTenantAvailable({tenancyName:r}).done(function(t){switch(t.state){case 1:abp.multiTenancy.setTenantIdCookie(t.tenantId);n.close();location.reload();return;case 2:abp.message.warn(app.localize("TenantIsNotActive",r));break;case 3:abp.message.warn(app.localize("ThereIsNoTenantDefinedWithName{0}",r))}}).always(function(){n.setBusy(!1)})}}})(jQuery);